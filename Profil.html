<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mon Compte</title>
    <!-- Lien vers Font Awesome pour les icônes -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="Style.css"> <!-- Assure-toi que le chemin est correct -->

</head>
<body>
    <header class="header" id="header">
        <div class="container flex justify-between items-center">
        <a href="#" class="logo"><span>Emploi</span>Avenir</a>
        <nav>
        <ul class="nav-links">
        <li><a href="#" class="active">Accueil</a></li>
        <li><a href="MonParcours.html">Mon Parcours</a></li>
        <li><a href="MesCandidature.html">Mes Candidatures</a></li>
        <li><a href="Partenaires.html">Nos partenaires</a></li>
        <li><a href="Documents.html">Mes documents</a></li>
        <li><a href="Profil.html">Profil</a></li>
        </ul>
        </nav>
        <button class="mobile-menu-btn" id="mobileMenuBtn">☰</button>
        </div>
            <div class="container">
        <h1 class="page-title">Mon compte</h1>

        <div class="profile-grid">
            <!-- Colonne Principale (Informations & Sécurité) -->
            <div class="profile-column-main">
                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title">Informations personnelles</h2>
                        <p class="card-description">Mettez à jour vos informations de profil</p>
                    </div>
                    <div class="card-content">
                        <div class="form-grid-cols-2">
                            <div class="form-group">
                                <label for="firstName">Prénom</label>
                                <input type="text" id="firstName" value="Jean">
                            </div>
                            <div class="form-group">
                                <label for="lastName">Nom</label>
                                <input type="text" id="lastName" value="Dupont">
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="email">Email</label>
                            <input type="email" id="email" value="jean.dupont@example.com">
                        </div>

                        <div class="form-group">
                            <label for="phone">Téléphone</label>
                            <input type="tel" id="phone" value="06 12 34 56 78">
                        </div>

                        <div class="form-group">
                            <label for="address">Adresse</label>
                            <input type="text" id="address" value="15 rue de la Paix">
                        </div>

                        <div class="form-grid-cols-2">
                            <div class="form-group">
                                <label for="city">Ville</label>
                                <input type="text" id="city" value="Paris">
                            </div>
                            <div class="form-group">
                                <label for="postalCode">Code postal</label>
                                <input type="text" id="postalCode" value="75001">
                            </div>
                        </div>
                    </div>
                     <!-- Pas de CardFooter ici selon le code React -->
                </div>

                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title">Sécurité</h2>
                        <p class="card-description">Gérez vos informations de connexion</p>
                    </div>
                    <div class="card-content">
                        <div class="form-group">
                            <label for="currentPassword">Mot de passe actuel</label>
                            <input type="password" id="currentPassword">
                        </div>

                        <div class="form-group">
                            <label for="newPassword">Nouveau mot de passe</label>
                            <input type="password" id="newPassword">
                        </div>

                        <div class="form-group">
                            <label for="confirmPassword">Confirmer le mot de passe</label>
                            <input type="password" id="confirmPassword">
                        </div>
                    </div>
                    <div class="card-footer">
                        <button class="button button-primary" id="changePasswordBtn">Changer le mot de passe</button>
                    </div>
                </div>
            </div>

            <!-- Colonne Latérale (Paramètres & Actions) -->
            <div class="profile-column-sidebar">
                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title">Paramètres</h2>
                        <p class="card-description">Gérez vos préférences</p>
                    </div>
                    <div class="card-content">
                        <div class="setting-item">
                            <div class="setting-item-label">
                                <label for="notifications">Notifications</label>
                                <p>Recevoir des alertes par email</p>
                            </div>
                            <label class="switch-container">
                                <input type="checkbox" id="notifications" checked>
                                <span class="switch-slider"></span>
                            </label>
                        </div>

                        <hr class="separator">

                        <div class="setting-item">
                             <div class="setting-item-label">
                                <label for="accessibility">Mode accessible</label>
                                <p>Contenu adapté et simplifié</p>
                             </div>
                             <label class="switch-container">
                                <input type="checkbox" id="accessibility">
                                <span class="switch-slider"></span>
                            </label>
                        </div>

                        <hr class="separator">

                        <div class="setting-item">
                            <div class="setting-item-label">
                                <label for="reminders">Rappels</label>
                                <p>Rappels pour continuer votre parcours</p>
                            </div>
                            <label class="switch-container">
                                <input type="checkbox" id="reminders" checked>
                                <span class="switch-slider"></span>
                            </label>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title">Actions du compte</h2>
                    </div>
                    <div class="card-content" style="gap: 0.75rem;"> <!-- Ajustement du gap pour les boutons -->
                        <button class="button button-outline button-full" id="exportDataBtn">Exporter mes données</button>
                        <button class="button button-destructive button-full" id="deleteAccountBtn">Supprimer mon compte</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Actions Finales -->
        <div class="final-actions">
            <button class="button button-primary button-large" id="saveChangesBtn">Enregistrer les modifications</button>
        </div>

    </div>

    <!-- Zone pour les notifications (toasts) -->
    <div id="toast-notification" class="toast"></div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {

            // --- Références DOM ---
            const saveChangesBtn = document.getElementById('saveChangesBtn');
            const changePasswordBtn = document.getElementById('changePasswordBtn');
            const exportDataBtn = document.getElementById('exportDataBtn');
            const deleteAccountBtn = document.getElementById('deleteAccountBtn');
            const toastNotification = document.getElementById('toast-notification');
            let toastTimeout; // Pour gérer la disparition du toast

            // --- Fonctions ---

            // Afficher une notification (toast)
            function showToast(message, type = 'success', duration = 3000) {
                // Annule le timeout précédent s'il existe (pour éviter une disparition prématurée si on clique vite)
                if (toastTimeout) {
                    clearTimeout(toastTimeout);
                }

                toastNotification.textContent = message;
                // Reset classes et ajoute les nouvelles
                toastNotification.className = `toast toast-${type}`;

                // Force le reflow pour redémarrer l'animation si nécessaire
                void toastNotification.offsetWidth;

                // Affiche le toast avec l'animation
                 toastNotification.classList.add('show');

                // Cache après la durée spécifiée
                toastTimeout = setTimeout(() => {
                    toastNotification.classList.remove('show');
                    // Optionnel: remettre display:none après la transition si besoin
                    // setTimeout(() => { toastNotification.style.display = 'none'; }, 300); // 300ms = durée de la transition CSS
                }, duration);
            }

            // Fonction générique pour simuler l'enregistrement
            function handleSaveChanges() {
                // Ici, vous pourriez ajouter la logique pour récupérer les valeurs des champs
                // et les envoyer à un serveur, par exemple.
                // Pour cette démo, on affiche juste le toast.
                console.log("Modifications à enregistrer (simulation)");
                showToast("Profil mis à jour", "success");
            }

            // Fonction spécifique pour le changement de mot de passe (si besoin de logique différente)
            function handleChangePassword() {
                 // Logique spécifique pour le changement de mot de passe (validation, etc.)
                 console.log("Changement de mot de passe demandé (simulation)");
                 // Pour l'instant, on utilise le même message que l'enregistrement général
                 showToast("Profil mis à jour", "success");
                 // Vider les champs mot de passe après tentative serait une bonne pratique
                 document.getElementById('currentPassword').value = '';
                 document.getElementById('newPassword').value = '';
                 document.getElementById('confirmPassword').value = '';
            }

            // --- Gestionnaires d'événements ---
            saveChangesBtn.addEventListener('click', handleSaveChanges);
            changePasswordBtn.addEventListener('click', handleChangePassword); // Appel de la fonction spécifique

            exportDataBtn.addEventListener('click', () => {
                 // Logique d'exportation (simulation)
                 console.log("Exportation des données demandée");
                 showToast("Fonctionnalité d'exportation non implémentée.", "error"); // Ou un message d'info
            });

            deleteAccountBtn.addEventListener('click', () => {
                 // Confirmation avant suppression
                 if (window.confirm("Êtes-vous sûr de vouloir supprimer votre compte ? Cette action est irréversible.")) {
                     console.log("Suppression du compte confirmée (simulation)");
                     // Mettre ici la logique de suppression réelle (appel API, etc.)
                     showToast("Compte supprimé (simulation).", "success");
                     // Rediriger l'utilisateur ou désactiver l'interface après suppression
                 } else {
                     console.log("Suppression du compte annulée.");
                 }
            });

        });
    </script>
</body>
</html>