<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mon CV Facile - EmploiAvenir</title>
  <base href="/Red-Cross-HTML/">  <!-- AJOUTE CETTE LIGNE -->
  <meta name="description" content="Cr√©ez facilement votre CV √©tape par √©tape avec l'outil d'aide d'EmploiAvenir. Id√©al pour commencer ou reprendre votre parcours professionnel.">

  <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="stylesheet" href="style.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
</head>

<body>
  <!-- HEADER -->
  <header class="header" id="header">
    <div class="container flex justify-between items-center">
      <a href="index.html" class="logo" aria-label="Accueil EmploiAvenir"><span>Emploi</span>Avenir</a>
      <nav aria-label="Navigation principale">
        <ul class="nav-links" id="mainNavLinks">
          <li><a href="index.html"data-i18n="Home">Accueil</a></li>
          <li><a href="MonParcours.html" aria-current="page"data-i18n="Parcours">Mon Parcours</a></li>
          <li><a href="MesCandidature.html" data-i18n="Candidatures">Mes Candidatures</a></li>
          <li><a href="Partenaires.html" data-i18n="Partenaires">Nos partenaires</a></li>
          <li><a href="Documents.html" data-i18n="Documents">Mes documents</a></li>
          <li><a href="Profil.html" data-i18n="Profil">Profil</a></li>
        </ul>
      </nav>
      <button class="mobile-menu-btn" id="mobileMenuBtn" aria-label="Ouvrir le menu de navigation" aria-expanded="false" aria-controls="mainNavLinks">‚ò∞</button>
    </div>
  </header>
<select id="langSwitcher" aria-label="Choisir la langue">
  <option value="fr">üá´üá∑ Fran√ßais</option>
  <option value="en">üá¨üáß English</option>
  <option value="ar">üá∏üá¶ ÿßŸÑÿπÿ±ÿ®Ÿäÿ©</option>
  <option value="uk">üá∫üá¶  —É–∫—Ä–∞—ó–Ω—Å—å–∫–∞ –º–æ–≤–∞</option>
</select>
<main class="cv-assistant-container">
  <section class="cv-assistant-header text-center" aria-labelledby="cvTitle">
    <h1 id="cvTitle" data-i18n="cvAssistantTitle">Cr√©ez Votre CV Facilement</h1>
    <p class="intro-text" data-i18n="cvAssistantIntro">Nous allons vous guider pas √† pas pour cr√©er un CV qui vous ressemble. R√©pondez simplement aux questions.</p>
    <nav class="cv-progress-bar" role="progressbar" aria-valuenow="1" aria-valuemin="1" aria-valuemax="5" aria-label="Progression de la cr√©ation du CV">
      <div class="cv-progress-step active" data-step="1" data-i18n="cvStep1">1 Infos Perso</div>
      <div class="cv-progress-step" data-step="2" data-i18n="cvStep2">2 Exp√©riences</div>
      <div class="cv-progress-step" data-step="3" data-i18n="cvStep3">3 Formations</div>
      <div class="cv-progress-step" data-step="4" data-i18n="cvStep4">4 Atouts</div>
      <div class="cv-progress-step" data-step="5" data-i18n="cvStep5">5 Finalisation</div>
    </nav>
  </section>

  <form id="cvAssistantForm" novalidate>
    <fieldset class="cv-step active-step" id="step-1-perso" aria-labelledby="step1Title">
      <legend class="sr-only" data-i18n="legendStep1">√âtape 1 : Vos informations personnelles</legend>
      <h2 id="step1Title" data-i18n="step1Title">Commen√ßons par vous !</h2>
      <p class="step-description" data-i18n="step1Desc">Ces informations de base nous aident √† d√©marrer.</p>

      <div class="form-group">
        <label for="name" data-i18n="labelName">Votre Pr√©nom et Nom*</label>
        <div class="input-with-mic">
          <input type="text" id="name" name="name" class="form-control" placeholder="Ex: Marie Dupont" data-i18n-placeholder="placeholderName" required>
          <button type="button" class="mic-btn" data-target-input="name" aria-label="Saisir par la voix pour Pr√©nom et Nom"><i class="fas fa-microphone"></i></button>
        </div>
        <small class="help-text" data-i18n="nameHelp">C'est le nom qui appara√Ætra en haut de votre CV.</small>
        <div class="invalid-feedback" data-i18n="nameError">Veuillez indiquer votre pr√©nom et nom.</div>
      </div>

      <div class="form-group">
        <label for="cvTitleInput" data-i18n="labelCvTitle">Quel type de poste recherchez-vous ? (Ou laissez vide)</label>
        <div class="input-with-mic">
          <input type="text" id="cvTitleInput" name="cvTitle" class="form-control" placeholder="Ex: Employ√©(e) polyvalent(e), Aide √† domicile" data-i18n-placeholder="placeholderCvTitle">
          <button type="button" class="mic-btn" data-target-input="cvTitleInput" aria-label="Saisir par la voix pour le type de poste"><i class="fas fa-microphone"></i></button>
        </div>
        <small class="help-text" data-i18n="cvTitleHelp">Cela peut √™tre le titre de votre CV. Si vous ne savez pas, ce n'est pas grave !</small>
      </div>

      <div class="form-group">
        <label for="email" data-i18n="labelEmail">Votre adresse e-mail*</label>
        <input type="email" id="email" name="email" class="form-control" placeholder="Ex: marie.dupont@email.com" data-i18n-placeholder="placeholderEmail" required>
        <small class="help-text" data-i18n="emailHelp">Important pour que les recruteurs puissent vous contacter.</small>
        <div class="invalid-feedback" data-i18n="emailError">Veuillez indiquer une adresse e-mail valide.</div>
      </div>

      <div class="form-group">
        <label for="phone" data-i18n="labelPhone">Votre num√©ro de t√©l√©phone</label>
        <input type="tel" id="phone" name="phone" class="form-control" placeholder="Ex: 06 01 02 03 04" data-i18n-placeholder="placeholderPhone">
        <small class="help-text" data-i18n="phoneHelp">Utile si un employeur souhaite vous appeler.</small>
      </div>

      <div class="form-group">
        <label for="address" data-i18n="labelAddress">Ville (et pays si besoin)</label>
        <div class="input-with-mic">
          <input type="text" id="address" name="address" class="form-control" placeholder="Ex: Lyon, France" data-i18n-placeholder="placeholderAddress">
          <button type="button" class="mic-btn" data-target-input="address" aria-label="Saisir par la voix pour la ville"><i class="fas fa-microphone"></i></button>
        </div>
        <small class="help-text" data-i18n="addressHelp">Juste la ville suffit g√©n√©ralement.</small>
      </div>
    </fieldset>

     <!-- √âTAPE 2: EXP√âRIENCES -->
<fieldset class="cv-step" id="step-2-experiences" aria-labelledby="step2Title">
  <legend class="sr-only" data-i18n="legendStep2">√âtape 2 : Vos exp√©riences</legend>
  <h2 id="step2Title" data-i18n="step2Title">Vos exp√©riences (m√™me non pay√©es)</h2>
  <p class="step-description" data-i18n="step2Desc">Toute exp√©rience est bonne √† partager ! Avez-vous d√©j√† travaill√©, fait du b√©n√©volat, aid√© votre famille ou des amis, ou particip√© √† des projets ?</p>
  <div class="info-box">
    <i class="fas fa-lightbulb"></i>
    <div>
      <p data-i18n="step2NoExpIntro"><strong>Pas d'exp√©rience professionnelle ? Pas de souci !</strong> Pensez √† :</p>
      <ul>
        <li data-i18n="step2Exp1">B√©n√©volat (aide aux devoirs, distribution de repas...)</li>
        <li data-i18n="step2Exp2">Projets personnels (organisation d'un √©v√©nement, cr√©ation d'un blog...)</li>
        <li data-i18n="step2Exp3">Aide √† votre entourage (garde d'enfants, aide √† une personne √¢g√©e...)</li>
        <li data-i18n="step2Exp4">Stages, m√™me courts.</li>
      </ul>
      <p data-i18n="step2ExpAdvice">Indiquez ce que vous avez fait et ce que cela vous a appris.</p>
    </div>
  </div>
  <div id="experiences-list-form"></div>
  <button type="button" class="btn btn-outline-secondary add-item-btn" id="addExperienceFormBtn" data-i18n="addExperienceBtn">
    <i class="fas fa-plus-circle"></i> Ajouter une exp√©rience
  </button>
</fieldset>

<!-- √âTAPE 3: FORMATIONS -->
<fieldset class="cv-step" id="step-3-formations" aria-labelledby="step3Title">
  <legend class="sr-only" data-i18n="legendStep3">√âtape 3 : Vos formations et dipl√¥mes</legend>
  <h2 id="step3Title" data-i18n="step3Title">Vos formations et dipl√¥mes</h2>
  <p class="step-description" data-i18n="step3Desc">Avez-vous suivi des formations, m√™me courtes, ou obtenu des dipl√¥mes ?</p>
  <div class="info-box">
    <i class="fas fa-graduation-cap"></i>
    <p data-i18n="step3Info">Indiquez ici vos dipl√¥mes (brevet, CAP, Bac, etc.) ou les formations suivies (permis cariste, premiers secours, cours en ligne...). M√™me si ce n'est pas termin√©, c'est int√©ressant !</p>
  </div>
  <div id="formations-list-form"></div>
  <button type="button" class="btn btn-outline-secondary add-item-btn" id="addFormationFormBtn" data-i18n="addFormationBtn">
    <i class="fas fa-plus-circle"></i> Ajouter une formation
  </button>
</fieldset>

<!-- √âTAPE 4: ATOUTS -->
<fieldset class="cv-step" id="step-4-atouts" aria-labelledby="step4Title">
  <legend class="sr-only" data-i18n="legendStep4">√âtape 4 : Vos qualit√©s et ce que vous savez faire</legend>
  <h2 id="step4Title" data-i18n="step4Title">Vos qualit√©s et ce que vous savez faire</h2>
  <p class="step-description" data-i18n="step4Desc">Quelles sont vos forces ? Que savez-vous bien faire ? Quelles langues parlez-vous ?</p>

  <div class="form-section">
    <h3 data-i18n="skillsTitle">Ce que vous savez faire (Comp√©tences)</h3>
    <p class="help-text" data-i18n="skillsHelp">Exemples : "utiliser un ordinateur", "cuisiner", "√™tre √† l'√©coute", "travailler en √©quipe", "conduire (permis B)".</p>
    <div id="competences-list-form" class="form-list-items"></div>
    <div class="input-group-add">
      <input type="text" id="newCompetenceInput" class="form-control" placeholder="Ajouter une comp√©tence" data-i18n-placeholder="placeholderSkill">
      <button type="button" class="btn btn-primary" id="addCompetenceToListBtn" data-i18n="addSkillBtn"><i class="fas fa-plus"></i> Ajouter</button>
    </div>
    <div id="newCompetenceInput-feedback" class="invalid-feedback" style="display: none;" data-i18n="skillError">Veuillez saisir une comp√©tence.</div>
  </div>

  <div class="form-section">
    <h3 data-i18n="languagesTitle">Langues que vous parlez</h3>
    <p class="help-text" data-i18n="languagesHelp">M√™me si c'est juste quelques mots, indiquez-le ! Exemple : "Anglais : bases scolaires".</p>
    <div id="langues-list-form" class="form-list-items"></div>
    <div class="input-group-add">
      <input type="text" id="newLangueInput" class="form-control" placeholder="Ajouter une langue" data-i18n-placeholder="placeholderLangue">
      <select id="newLangueLevelSelect" class="form-control" data-i18n="selectLangueLevel">
        <option value="">Niveau ?</option>
        <option value="Notions" data-i18n="levelNotions">Notions</option>
        <option value="Interm√©diaire" data-i18n="levelIntermediate">Sait se d√©brouiller</option>
        <option value="Courant" data-i18n="levelFluent">Parle bien</option>
        <option value="Natif" data-i18n="levelNative">Langue maternelle</option>
      </select>
      <button type="button" class="btn btn-primary" id="addLangueToListBtn" data-i18n="addLangueBtn"><i class="fas fa-plus"></i> Ajouter</button>
    </div>
    <div id="newLangueInput-feedback" class="invalid-feedback" style="display: none;" data-i18n="langueError">Veuillez saisir une langue et un niveau.</div>
  </div>
</fieldset>

<!-- √âTAPE 5: FINALISATION -->
<fieldset class="cv-step" id="step-5-finalisation" aria-labelledby="step5Title">
  <legend class="sr-only" data-i18n="legendStep5">√âtape 5 : V√©rification et t√©l√©chargement</legend>
  <h2 id="step5Title" data-i18n="step5Title">Bravo, votre CV est presque pr√™t !</h2>
  <p class="step-description" data-i18n="step5Desc">V√©rifiez les informations ci-dessous. Vous pourrez toujours revenir en arri√®re pour modifier.</p>
  <div class="cv-preview-final">
    <h3 data-i18n="previewTitle">Aper√ßu de votre CV</h3>
    <div id="final-preview-content" class="cv-preview-area">
      <p style="text-align:center; padding: 2rem; color: var(--color-gray);" data-i18n="previewEmpty">Commencez √† remplir les √©tapes pour voir votre CV prendre forme ici !</p>
    </div>
  </div>
  <div class="form-actions">
    <button type="button" class="btn btn-primary btn-large" id="downloadPdfBtn" data-i18n="downloadBtn">
      <i class="fas fa-download"></i> T√©l√©charger mon CV en PDF
    </button>
    <a href="choix-lm.html" class="btn btn-success btn-large" id="goToLettreMotivationBtn" style="display: none; margin-top: 1rem;" data-i18n="goToLmBtn">
      <i class="fas fa-envelope-open-text"></i> Passer √† la Lettre de Motivation
    </a>
  </div>
</fieldset>

<!-- Navigation -->
<nav class="cv-step-navigation" aria-label="Navigation entre les √©tapes du CV">
  <button type="button" class="btn btn-outline-secondary" id="CvPrevStepBtn" disabled data-i18n="prevStepBtn">
    <i class="fas fa-arrow-left"></i> √âtape pr√©c√©dente
  </button>
  <button type="button" class="btn btn-primary" id="CvNextStepBtn" data-i18n="nextStepBtn">
    √âtape suivante <i class="fas fa-arrow-right"></i>
  </button>
  <a href="lettre_motivation.html" class="btn btn-success" id="finishCVAssistantBtn" style="display: none;" data-i18n="finishCvBtn">
    <i class="fas fa-check-circle"></i> Passer √† la lettre de motivation
  </a>
</nav>

    </form>
  </main>

  <footer class="footer">
    <div class="container">
      <p>¬© 2025 EmploiAvenir. Tous droits r√©serv√©s.</p>
    </div>
  </footer>
  <div id="toast-container"></div>
  <script src="Script.js"></script>

<script> document.addEventListener('DOMContentLoaded', () => {
  // V√©rifie la compatibilit√© navigateur
  const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;

  if (!SpeechRecognition) {
    console.warn("SpeechRecognition API non support√©e dans ce navigateur.");
    return;
  }

  // Initialiser une instance globale
  const recognition = new SpeechRecognition();
  recognition.lang = 'fr-FR'; // Fran√ßais
  recognition.interimResults = false; // On ne veut que les r√©sultats finaux
  recognition.maxAlternatives = 1;

  let currentTargetInput = null;

  // G√®re le clic sur chaque bouton micro
  document.querySelectorAll('.mic-btn').forEach(btn => {
    btn.addEventListener('click', () => {
      const inputId = btn.dataset.targetInput;
      const input = document.getElementById(inputId);

      if (!input) {
        console.error(`Champ introuvable pour l'ID: ${inputId}`);
        return;
      }

      currentTargetInput = input;
      input.focus(); // Fait le focus sur l'input
      recognition.start(); // Lance la reconnaissance vocale
    });
  });

  // Quand la reconnaissance retourne un r√©sultat
  recognition.addEventListener('result', (event) => {
    const transcript = event.results[0][0].transcript;
    if (currentTargetInput) {
      currentTargetInput.value = transcript;
      currentTargetInput.dispatchEvent(new Event('input')); // Pour d√©clencher la mise √† jour de l'aper√ßu
    }
  });

  recognition.addEventListener('speechend', () => {
    recognition.stop();
  });

  recognition.addEventListener('error', (event) => {
    console.error('Erreur de reconnaissance vocale:', event.error);
    if (typeof App?.showToast === 'function') {
      App.showToast(`Erreur vocale : ${event.error}`, 'error');
    }
  });
});
</script>
<script src="langue.js"></script>
</body>
</html>