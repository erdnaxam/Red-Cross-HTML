<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Titre de la page spécifique -->
    <title>Mon Parcours - EmploiAvenir</title>

    <!-- Lien vers le fichier CSS externe (RECOMMANDE) -->
    <link rel="stylesheet" href="style.css">

    <!-- Optionnel: Lien CDN pour Font Awesome (si tu utilises les icônes <i class="fas ...">) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css"> <!-- Exemple de version -->

    <!-- Styles essentiels intégrés pour la démonstration et la fonctionnalité -->
    <!-- DÉPLACEZ CES STYLES DANS VOTRE FICHIER style.css -->
    <style>
        /* --- Variables Globales (exemple basé sur le code précédent) --- */
        :root {
          --color-primary: #8B5CF6; /* Violet/Bleu principal */
          --color-primary-darker: #7C3AED;
          --color-primary-light: #EDE9FE;
          --color-secondary: #4CAF50; /* Vert pour la complétion */
          --color-dark: #1F2937;      /* Texte sombre */
          --color-light: #F9FAFB;     /* Fond clair */
          --color-gray: #6B7280;      /* Texte gris */
          --color-gray-light: #E5E7EB; /* Bordures/Fonds gris clair */
          --color-gray-medium: #D1D5DB; /* Texte/Icônes gris moyen */
          --color-white: #FFFFFF;
          --radius: 8px;
          --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }

        /* --- Styles de Base --- */
        body {
            font-family: 'Inter', system-ui, -apple-system, sans-serif; /* Police cohérente */
            background-color: var(--color-light);
            color: var(--color-dark);
            margin: 0; /* Important */
            padding-top: 80px; /* Espace pour le header fixe (ajuster si hauteur différente) */
            line-height: 1.6;
        }
        .container {
            max-width: 1200px;
            margin-left: auto;
            margin-right: auto;
            padding: 0 1rem; /* Espacement latéral */
        }
        .text-center { text-align: center; }
        .mb-4 { margin-bottom: 1.5rem; } /* Ajusté légèrement */
        .mb-8 { margin-bottom: 3rem; }  /* Ajusté légèrement */
        .flex { display: flex; }
        .items-center { align-items: center; }
        .justify-between { justify-content: space-between; }

        /* --- Styles du Header --- */
        .header {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            background-color: var(--color-white);
            padding: 1rem 0; /* Hauteur du header */
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            z-index: 1000;
        }
        .logo {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--color-dark);
            text-decoration: none;
        }
        .logo span { color: var(--color-primary); }
        .nav-links {
            display: flex;
            gap: 1.5rem; /* Espacement entre les liens */
            list-style: none;
            margin: 0;
            padding: 0;
        }
        .nav-links a {
            color: var(--color-dark);
            text-decoration: none;
            font-weight: 500;
            padding: 0.5rem 0; /* Espace clic */
            position: relative;
            transition: color 0.2s ease;
        }
        .nav-links a:hover { color: var(--color-primary); }
        .nav-links a.active {
            color: var(--color-primary);
            font-weight: 600;
        }
        .nav-links a.active::after { /* Soulignement pour l'actif */
            content: '';
            position: absolute;
            bottom: 0px; /* Position du soulignement */
            left: 0;
            width: 100%;
            height: 2px;
            background-color: var(--color-primary);
        }
        .mobile-menu-btn { /* Caché par défaut */
            display: none;
            background: none;
            border: none;
            font-size: 1.8rem;
            cursor: pointer;
            color: var(--color-dark);
        }

        /* --- Barre de Progression --- */
        .parcours-progress-bar { display: flex; justify-content: space-between; list-style: none; padding: 0; margin-bottom: 2rem; position: relative; }
        .parcours-progress-bar::before { content: ''; position: absolute; top: 15px; left: 5%; right: 5%; height: 4px; background-color: var(--color-gray-light); z-index: 1; }
        .progress-step { display: flex; flex-direction: column; align-items: center; flex: 1; position: relative; z-index: 2; cursor: default; /* Pour montrer que ce n'est pas cliquable directement */ }
        .step-indicator { width: 30px; height: 30px; border-radius: 50%; background-color: var(--color-gray-medium); color: var(--color-white); display: flex; align-items: center; justify-content: center; font-weight: bold; margin-bottom: 0.5rem; border: 3px solid var(--color-light); /* Bordure couleur fond pour mieux détacher */ }
        .step-label { font-size: 0.8rem; color: var(--color-gray); text-align: center; max-width: 80px; /* Empêche les textes longs de trop s'étaler */ }
        .progress-step.is-active .step-indicator { background-color: var(--color-primary); border-color: var(--color-primary-light); }
        .progress-step.is-active .step-label { color: var(--color-primary); font-weight: bold; }
        .progress-step.is-completed .step-indicator { background-color: var(--color-secondary); border-color: #E0F2E1; /* Vert très clair */ color: white; }
        .progress-step.is-completed .step-label { color: var(--color-secondary); }

        /* --- Bouton Aide --- */
        .aide-button { display: inline-flex; align-items: center; gap: 0.5rem; padding: 0.75rem 1.5rem; background-color: var(--color-white); border: 1px solid var(--color-gray-light); border-radius: var(--radius); box-shadow: var(--shadow); cursor: pointer; font-size: 1rem; color: var(--color-dark); margin-bottom: 2rem; transition: background-color 0.2s ease; }
        .aide-button:hover { background-color: var(--color-light); }
        .aide-button i { color: var(--color-primary); margin-right: 0.3rem; }

        /* --- Dashboard --- */
        .parcours-dashboard { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 1.5rem; margin-bottom: 3rem; }
        .dashboard-card { background-color: var(--color-white); padding: 1.5rem; border-radius: var(--radius); box-shadow: var(--shadow); }
        .dashboard-card h3 { margin-top: 0; margin-bottom: 1rem; font-size: 1.25rem; }
        .progression-details p, .reussites-details p { margin-bottom: 0.5rem; color: var(--color-gray); }
        .progression-details strong, .reussites-details strong { color: var(--color-dark); }
        #progression-bar { width: 100%; height: 8px; margin-bottom: 0.5rem; appearance: none; border: none; border-radius: 4px; overflow: hidden; background-color: var(--color-gray-light); }
        #progression-bar::-webkit-progress-bar { background-color: var(--color-gray-light); }
        #progression-bar::-webkit-progress-value { background-color: var(--color-primary); border-radius: 4px; }
        #progression-bar::-moz-progress-bar { background-color: var(--color-primary); border-radius: 4px; }
        .badge-nouveau { display: inline-block; background-color: var(--color-primary-light); color: var(--color-primary); font-size: 0.75rem; padding: 0.2rem 0.5rem; border-radius: 4px; font-weight: 600; }
        #badges-gagnes { margin-top: 1rem; display: flex; flex-wrap: wrap; gap: 0.8rem; min-height: 30px; /* Espace même si vide */ }
        #badges-gagnes i { font-size: 1.8rem; color: var(--color-gray-light); /* Couleur badge non gagné */ }
        #badges-gagnes i.earned { color: #FFD700; /* Or pour badge gagné */ }

        /* --- Détail des Étapes --- */
        .etapes-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 1.5rem; }
        .etape-carte { background-color: var(--color-white); padding: 1.5rem; border-radius: var(--radius); box-shadow: var(--shadow); display: flex; flex-direction: column; align-items: center; text-align: center; transition: transform 0.2s ease, box-shadow 0.2s ease; }
        .etape-carte:hover:not(.is-locked):not(.is-completed) { transform: translateY(-4px); box-shadow: 0 8px 15px -3px rgba(0, 0, 0, 0.1); }
        .etape-icon { width: 55px; height: 55px; border-radius: 50%; background-color: var(--color-gray-light); color: var(--color-gray); display: flex; align-items: center; justify-content: center; font-size: 1.6rem; margin-bottom: 1rem; }
        .etape-carte h3 { font-size: 1.1rem; margin-bottom: 0.5rem; color: var(--color-dark); }
        .etape-carte p { font-size: 0.9rem; color: var(--color-gray); margin-bottom: 1rem; flex-grow: 1; }
        .etape-action { background-color: var(--color-primary); color: var(--color-white); border: none; border-radius: 50%; width: 40px; height: 40px; font-size: 1.2rem; display: flex; align-items: center; justify-content: center; cursor: pointer; margin-top: auto; transition: background-color 0.2s ease; }
        .etape-action:hover { background-color: var(--color-primary-darker); }

        /* États des cartes étapes */
        .etape-carte.is-active { border: 2px solid var(--color-primary); background-color: var(--color-primary-light); }
        .etape-carte.is-active .etape-icon { background-color: var(--color-primary); color: var(--color-white); }
        /* On garde le texte sombre pour la lisibilité sur fond clair */
        /* .etape-carte.is-active h3 { color: var(--color-primary); } */
        /* .etape-carte.is-active p { color: var(--color-dark); } */
        .etape-carte.is-active .etape-action { background-color: var(--color-primary); color: var(--color-white); } /* Bouton reste normal */

        .etape-carte.is-completed { background-color: #F0FDF4; border: 1px solid #A7F3D0; /* Vert très pâle */ }
        .etape-carte.is-completed .etape-icon { background-color: var(--color-secondary); color: var(--color-white); }
        .etape-carte.is-completed h3 { color: var(--color-dark); }
        .etape-carte.is-completed p { color: var(--color-gray); }
        .etape-carte.is-completed .etape-action { display: none; /* Cacher le bouton si l'étape est finie */ }

        .etape-carte.is-locked { background-color: var(--color-light); opacity: 0.7; cursor: not-allowed; }
        .etape-carte.is-locked .etape-icon { background-color: var(--color-gray-light); color: var(--color-gray-medium); }
        .etape-carte.is-locked h3 { color: var(--color-gray); }
        .etape-carte.is-locked p { color: var(--color-gray); }
        .etape-carte.is-locked .etape-action { display: none; }

        /* Styles pour le Menu Mobile (simple exemple) */
        @media (max-width: 768px) {
            .nav-links {
                display: none; /* Caché par défaut */
                flex-direction: column;
                position: absolute;
                top: 100%; /* Juste sous le header */
                left: 0;
                width: 100%;
                background-color: white;
                padding: 1rem;
                box-shadow: 0 4px 6px rgba(0,0,0,0.1);
                gap: 1rem; /* Espacement vertical */
            }
            .nav-links.show {
                display: flex; /* Affiché quand la classe .show est ajoutée par JS */
            }
            .nav-links a { padding: 0.5rem; }
            .nav-links a.active::after { display: none; /* Pas de soulignement en mobile ? */ }
            .mobile-menu-btn {
                display: block; /* Afficher le bouton hamburger */
            }
        }

    </style>
</head>
<body>

  <!-- =============================== -->
  <!-- HEADER (intégré et corrigé)   -->
  <!-- =============================== -->
  <header class="header" id="header">
    <div class="container flex justify-between items-center">
      <a href="index.html" class="logo"><span>Emploi</span>Avenir</a>
      <nav>
        <ul class="nav-links" id="mainNavLinks">
          <li><a href="index.html">Accueil</a></li>
          <li><a href="parcours.html" class="active" aria-current="page">Mon Parcours</a></li>
          <li><a href="MesCandidature.html">Mes Candidatures</a></li>
          <li><a href="Partenaires.html">Nos partenaires</a></li>
          <li><a href="Documents.html">Mes documents</a></li>
          <li><a href="Profil.html">Profil</a></li>
        </ul>
      </nav>
      <button class="mobile-menu-btn" id="mobileMenuBtn" aria-label="Ouvrir le menu de navigation" aria-expanded="false" aria-controls="mainNavLinks">☰</button>
    </div>
  </header>
  <!-- =============================== -->
  <!--      FIN DU HEADER              -->
  <!-- =============================== -->


  <!-- Contenu principal de la page Parcours -->
  <main class="container" style="margin-top: 2rem; margin-bottom: 3rem;"> <!-- Utilisation de <main> et ajustement marges -->

    <h1 class="text-center mb-8">Votre Parcours Personnalisé</h1>

    <!-- Barre de Progression -->
    <section class="parcours-progress-bar mb-4" aria-label="Progression dans le parcours">
        <div class="progress-step is-active" id="progress-step-1"> <div class="step-indicator" aria-hidden="true">1</div> <div class="step-label">Évaluation & CV</div> </div>
        <div class="progress-step" id="progress-step-2"> <div class="step-indicator" aria-hidden="true">2</div> <div class="step-label">Préparation</div> </div>
        <div class="progress-step" id="progress-step-3"> <div class="step-indicator" aria-hidden="true">3</div> <div class="step-label">Recherche d'offres</div> </div>
        <div class="progress-step" id="progress-step-4"> <div class="step-indicator" aria-hidden="true">4</div> <div class="step-label">Préparation entretien</div> </div>
        <div class="progress-step" id="progress-step-5"> <div class="step-indicator" aria-hidden="true">5</div> <div class="step-label">Entretien</div> </div>
        <div class="progress-step" id="progress-step-6"> <div class="step-indicator" aria-hidden="true">6</div> <div class="step-label">Retour candidature</div> </div>
        <div class="progress-step" id="progress-step-7"> <div class="step-indicator" aria-hidden="true">7</div> <div class="step-label">Contrat</div> </div>
        <div class="progress-step" id="progress-step-8"> <div class="step-indicator" aria-hidden="true">8</div> <div class="step-label">Suivi</div> </div>
    </section>

    <!-- Bouton d'Aide -->
    <div class="text-center mb-8">
        <button class="aide-button" onclick="alert('Fonctionnalité d\'aide à implémenter !');"> <!-- Exemple d'action JS simple -->
            <i class="fas fa-question-circle" aria-hidden="true"></i>
            <span>Aide disponible à chaque étape</span>
        </button>
    </div>

    <!-- Dashboard Utilisateur -->
    <section class="parcours-dashboard mb-8" aria-label="Tableau de bord de votre progression">
        <div class="dashboard-card progression-globale">
            <h3>Progression globale</h3>
            <div class="progression-details">
                <p>Votre avancement dans le parcours</p>
                <p><strong>Étapes validées :</strong> <span id="etapes-validees">0/8</span></p>
                <label for="progression-bar" class="sr-only">Pourcentage de complétion</label> <!-- Label pour accessibilité -->
                <progress id="progression-bar" value="0" max="100" aria-labelledby="progression-pourcentage-label"></progress>
                <p><strong id="progression-pourcentage">0%</strong><span id="progression-pourcentage-label" class="sr-only"> complété</span></p>
                <p style="font-size: 0.8rem; color: var(--color-gray);">Dernière activité: <span id="derniere-activite">Jamais</span></p>
            </div>
        </div>
        <div class="dashboard-card vos-reussites">
            <h3>Vos réussites</h3>
            <div class="reussites-details">
                 <p><span class="badge-nouveau">Nouveau</span></p>
                 <p>Terminez votre première étape pour débloquer vos premiers badges et récompenses !</p>
                 <div id="badges-gagnes" aria-label="Badges obtenus">
                      <i class="fas fa-medal" aria-label="Badge Exemple 1 (non obtenu)" title="Badge Exemple 1 (non obtenu)"></i>
                      <i class="fas fa-star" aria-label="Badge Exemple 2 (non obtenu)" title="Badge Exemple 2 (non obtenu)"></i>
                      <i class="fas fa-trophy" aria-label="Badge Exemple 3 (non obtenu)" title="Badge Exemple 3 (non obtenu)"></i>
                 </div>
            </div>
        </div>
    </section>

    <!-- Détail des Étapes -->
    <section aria-labelledby="detail-etapes-titre">
        <h2 id="detail-etapes-titre" class="text-center mb-4">Détail des étapes</h2>
        <div class="etapes-grid">
            <!-- Étape 1 : Active -->
            <div class="etape-carte is-active" id="etape-1">
                <div class="etape-icon" aria-hidden="true"><i class="fas fa-file-alt"></i></div>
                <h3>1. Évaluation & CV</h3>
                <p>Évaluez vos compétences et créez un CV percutant qui attire l'attention.</p>
                <button class="etape-action" aria-label="Commencer l'étape 1 : Évaluation & CV">
                    <i class="fas fa-arrow-right" aria-hidden="true"></i>
                </button>
            </div>
            <!-- Étape 2 : Bloquée -->
            <div class="etape-carte is-locked" id="etape-2">
                <div class="etape-icon" aria-hidden="true"><i class="fas fa-lock"></i></div>
                <h3>2. Préparation</h3>
                <p>Définissez clairement votre projet professionnel et organisez votre recherche.</p>
            </div>
            <!-- Étape 3 : Bloquée -->
            <div class="etape-carte is-locked" id="etape-3">
                <div class="etape-icon" aria-hidden="true"><i class="fas fa-lock"></i></div>
                <h3>3. Recherche d'offres</h3>
                <p>Trouvez les offres d'emploi qui correspondent à votre profil et à vos envies.</p>
            </div>
             <!-- Étape 4 : Bloquée -->
            <div class="etape-carte is-locked" id="etape-4">
                <div class="etape-icon" aria-hidden="true"><i class="fas fa-lock"></i></div>
                <h3>4. Préparation entretien</h3>
                <p>Préparez-vous aux questions fréquentes et gagnez en confiance.</p>
            </div>
             <!-- Étape 5 : Bloquée -->
            <div class="etape-carte is-locked" id="etape-5">
                <div class="etape-icon" aria-hidden="true"><i class="fas fa-lock"></i></div>
                <h3>5. Entretien</h3>
                <p>Faites bonne impression et montrez votre motivation lors de vos entretiens.</p>
            </div>
             <!-- Étape 6 : Bloquée -->
            <div class="etape-carte is-locked" id="etape-6">
                <div class="etape-icon" aria-hidden="true"><i class="fas fa-lock"></i></div>
                <h3>6. Retour candidature</h3>
                <p>Gérez les réponses, positives ou négatives, et effectuez les relances.</p>
            </div>
            <!-- Étape 7 : Bloquée -->
            <div class="etape-carte is-locked" id="etape-7">
                <div class="etape-icon" aria-hidden="true"><i class="fas fa-lock"></i></div>
                <h3>7. Contrat</h3>
                <p>Comprenez votre contrat de travail avant de signer et négociez si besoin.</p>
            </div>
            <!-- Étape 8 : Bloquée -->
            <div class="etape-carte is-locked" id="etape-8">
                <div class="etape-icon" aria-hidden="true"><i class="fas fa-lock"></i></div>
                <h3>8. Suivi</h3>
                <p>Intégrez-vous dans votre nouvel emploi et bénéficiez d'un suivi.</p>
            </div>
        </div> <!-- Fin .etapes-grid -->
    </section>

  </main> <!-- Fin .container principal du contenu -->

    <!-- Optionnel : Footer Commun -->
    <!-- <footer class="footer"> -->
    <!--   <div class="container"> ... contenu du footer ... </div> -->
    <!-- </footer> -->

    <!-- Lien vers le fichier JS externe (RECOMMANDE) -->
    <script src="script.js"></script>

    <!-- Script de démo pour la progression (peut être déplacé dans script.js) -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- Sélection des éléments ---
            const etapesValideesSpan = document.getElementById('etapes-validees');
            const progressionPourcentageSpan = document.getElementById('progression-pourcentage');
            const progressBar = document.getElementById('progression-bar');
            const derniereActiviteSpan = document.getElementById('derniere-activite');
            const badgesContainer = document.getElementById('badges-gagnes');
            const progressSteps = document.querySelectorAll('.parcours-progress-bar .progress-step');
            const detailCards = document.querySelectorAll('.etapes-grid .etape-carte');
            const allActionButtons = document.querySelectorAll('.etape-carte .etape-action'); // Tous les boutons flèche

            const totalEtapes = 8;
            let etapesCompletes = 0; // L'état actuel (devrait venir du stockage local ou serveur)

            // --- Fonctions ---
            function updateProgression() {
                // Mise à jour du dashboard
                etapesValideesSpan.textContent = `${etapesCompletes}/${totalEtapes}`;
                const pourcentage = Math.round((etapesCompletes / totalEtapes) * 100);
                progressionPourcentageSpan.textContent = `${pourcentage}%`;
                progressBar.value = pourcentage;
                if (etapesCompletes > 0) {
                   derniereActiviteSpan.textContent = new Date().toLocaleDateString('fr-FR'); // Met la date du jour
                } else {
                   derniereActiviteSpan.textContent = "Jamais";
                }

                // Mise à jour des badges (exemple simple)
                updateBadges();

                // Mise à jour visuelle de la barre de progression
                progressSteps.forEach((step, index) => {
                    step.classList.remove('is-active', 'is-completed');
                    if (index < etapesCompletes) {
                        step.classList.add('is-completed');
                    } else if (index === etapesCompletes) {
                        step.classList.add('is-active');
                    }
                });

                // Mise à jour visuelle et fonctionnelle des cartes étapes
                detailCards.forEach((card, index) => {
                    card.classList.remove('is-active', 'is-locked', 'is-completed'); // Reset classes
                    const iconElement = card.querySelector('.etape-icon i');
                    const actionButton = card.querySelector('.etape-action');

                    if (index < etapesCompletes) {
                        // Étape Complétée
                        card.classList.add('is-completed');
                        if(iconElement) iconElement.className = 'fas fa-check-circle'; // Icône validée
                        if(actionButton) actionButton.style.display = 'none'; // Cacher bouton
                        removeActionListener(actionButton); // Retirer l'écouteur s'il existe

                    } else if (index === etapesCompletes) {
                        // Étape Active
                        card.classList.add('is-active');
                        if(iconElement) iconElement.className = 'fas fa-file-alt'; // Icône par défaut (ou spécifique à l'étape)
                        if(actionButton) {
                             actionButton.style.display = 'flex'; // Afficher bouton
                             addActionListener(actionButton); // Ajouter l'écouteur s'il n'existe pas
                        }

                    } else {
                        // Étape Bloquée
                        card.classList.add('is-locked');
                        if(iconElement) iconElement.className = 'fas fa-lock'; // Icône verrou
                        if(actionButton) actionButton.style.display = 'none'; // Cacher bouton
                        removeActionListener(actionButton); // Retirer l'écouteur s'il existe
                    }
                });
            }

            // Fonction pour ajouter un écouteur d'événement (si pas déjà fait)
            function addActionListener(button) {
                if (button && !button.hasAttribute('data-listener-added')) {
                    button.addEventListener('click', handleActionClick);
                    button.setAttribute('data-listener-added', 'true');
                }
            }

            // Fonction pour retirer un écouteur d'événement
            function removeActionListener(button) {
                 if (button && button.hasAttribute('data-listener-added')) {
                    button.removeEventListener('click', handleActionClick);
                    button.removeAttribute('data-listener-added');
                }
            }

            // Gestionnaire de clic pour les boutons d'action des étapes
            function handleActionClick() {
                if (etapesCompletes < totalEtapes) {
                    etapesCompletes++; // Incrémenter la progression
                    console.log(`Étape ${etapesCompletes} marquée comme complétée.`);
                    // Idéalement, sauvegarder cet état (localStorage ou serveur)
                    // localStorage.setItem('parcoursEtapesCompletes', etapesCompletes);
                    updateProgression(); // Mettre à jour l'interface
                    // Optionnel: Afficher une notification/feedback
                    // alert(`Étape ${etapesCompletes} terminée ! Vous passez à l'étape ${etapesCompletes + 1}.`);
                     // Pour une vraie application, rediriger vers le contenu de l'étape complétée ou la suivante :
                    // window.location.href = `etape${etapesCompletes + 1}.html`; // Par exemple
                }
            }

            // Mise à jour des badges (simple exemple)
            function updateBadges() {
                badgesContainer.innerHTML = ''; // Vider les badges actuels
                const badges = [ // Définir les badges et quand ils sont gagnés
                   { id: 'medal', icon: 'fa-medal', earnedStep: 1, title: 'Premier Pas !' },
                   { id: 'star', icon: 'fa-star', earnedStep: 4, title: 'Mi-Parcours !' },
                   { id: 'trophy', icon: 'fa-trophy', earnedStep: 8, title: 'Objectif Atteint !' }
                ];

                badges.forEach(badge => {
                    const badgeIcon = document.createElement('i');
                    badgeIcon.className = `fas ${badge.icon}`; // Classe Font Awesome
                    if (etapesCompletes >= badge.earnedStep) {
                        badgeIcon.classList.add('earned'); // Classe pour couleur "gagné"
                        badgeIcon.setAttribute('aria-label', `Badge obtenu : ${badge.title}`);
                        badgeIcon.setAttribute('title', `Badge obtenu : ${badge.title}`);
                    } else {
                         badgeIcon.setAttribute('aria-label', `Badge : ${badge.title} (non obtenu)`);
                         badgeIcon.setAttribute('title', `Badge : ${badge.title} (non obtenu)`);
                    }
                    badgesContainer.appendChild(badgeIcon);
                });
            }


            // --- Initialisation ---
            // Essayer de charger la progression depuis le stockage local (si implémenté)
            // const savedProgress = localStorage.getItem('parcoursEtapesCompletes');
            // if (savedProgress !== null) {
            //    etapesCompletes = parseInt(savedProgress, 10);
            // }
            updateProgression(); // Appliquer l'état initial à l'interface


            // --- Gestion du Menu Mobile ---
            const mobileMenuBtn = document.getElementById('mobileMenuBtn');
            const navLinks = document.getElementById('mainNavLinks');
            if (mobileMenuBtn && navLinks) {
              mobileMenuBtn.addEventListener('click', () => {
                navLinks.classList.toggle('show'); // La classe 'show' doit être définie dans le CSS
                const isExpanded = navLinks.classList.contains('show');
                mobileMenuBtn.setAttribute('aria-expanded', isExpanded);
                mobileMenuBtn.setAttribute('aria-label', isExpanded ? 'Fermer le menu de navigation' : 'Ouvrir le menu de navigation');
              });
              // Optionnel: Fermer le menu si on clique sur un lien
              navLinks.querySelectorAll('a').forEach(link => {
                link.addEventListener('click', () => {
                  if (navLinks.classList.contains('show')) {
                    navLinks.classList.remove('show');
                    mobileMenuBtn.setAttribute('aria-expanded', 'false');
                    mobileMenuBtn.setAttribute('aria-label', 'Ouvrir le menu de navigation');
                  }
                });
              });
            }

        }); // Fin de DOMContentLoaded
    </script>

</body>
</html>
