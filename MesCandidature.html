<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Titre de la page spécifique - Garde EmploiAvenir -->
    <title>Mes candidatures - EmploiAvenir</title>
    <!-- Description adaptée pour cette page -->
    <meta name="description" content="Suivez toutes vos candidatures d'emploi en cours, modifiez leur statut et gérez vos démarches dans votre espace personnel EmploiAvenir.">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

    <!-- Lien vers le fichier CSS externe - INDISPENSABLE -->
    <!-- Assurez-vous que ce fichier style.css existe et contient TOUS les styles nécessaires (header, footer, conteneur, boutons, cards, formulaires, badges, dialog, etc.), y compris ceux qui étaient dans le bloc <style> retiré ici. -->
    <link rel="stylesheet" href="style.css">

    <!-- Lien CDN pour Font Awesome (si tu utilises les icônes <i class="fas ...">) -->
    <!-- Conserve celui que vous avez fourni -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" integrity="sha512-9usAa10IRO0HhonpyAIVpjrylPvoDwiPUiKdWk5t3PyolY1cOd4DSE0Ga+ri4AuTroPR5aQvXU9xC6qOPnzFeg==" crossorigin="anonymous" referrerpolicy="no-referrer" />

    <!-- Lovable script tag for Select feature -->
    <script src="https://cdn.gpteng.co/gptengineer.js" type="module"></script>

    <!-- Le bloc <style> intégré a été COMPLÈTEMENT SUPPRIMÉ ici. -->

</head>
<body>
  <!-- Header - Repris du code standard EmploiAvenir -->
  <header class="header" id="header">
    <div class="container flex justify-between items-center">
      <!-- Lien du logo corrigé pour pointer vers l'accueil -->
      <a href="index.html" class="logo"><span>Emploi</span>Avenir</a>
      <nav aria-label="Navigation principale">
        <!-- Ajout de l'ID pour le JS du menu mobile -->
        <ul class="nav-links" id="mainNavLinks">
          <li><a href="index.html">Accueil</a></li>
          <li><a href="MonParcours.html">Mon Parcours</a></li>
          <!-- Marquer Mes Candidatures comme actif sur cette page -->
          <li><a href="MesCandidature.html" class="active" aria-current="page">Mes Candidatures</a></li>
          <li><a href="Partenaires.html">Nos partenaires</a></li>
          <li><a href="Documents.html">Mes documents</a></li>
          <li><a href="Profil.html">Profil</a></li>
          <!-- Laissez ce commentaire ou ajoutez un bouton/lien avec id="loginBtn" si le JS doit l'ouvrir -->
          <!-- Ex: <li><button type="button" class="btn btn-outline" id="loginBtn" aria-controls="loginModal">Connexion</button></li> -->
        </ul>
      </nav>
      <!-- Bouton menu mobile - Attributs ARIA améliorés + lien vers l'ID du menu -->
      <button class="mobile-menu-btn" id="mobileMenuBtn" aria-label="Ouvrir le menu de navigation" aria-expanded="false" aria-controls="mainNavLinks">☰</button>
    </div>
  </header>

    <!-- Contenu principal de la page Mes Candidatures -->
    <main>
        <!-- Utilisation de la classe container standard -->
        <!-- Utilisation des classes utilitaires de l'original, en supposant qu'elles sont dans style.css -->
        <div class="container mx-auto px-4 py-8">
            <div class="flex justify-between items-center mb-6">
                <!-- Titre principal - H1 amélioré pour la page -->
                <h1 class="text-2xl font-bold">Mes candidatures</h1>
                <!-- Bouton ajouter candidature - Utilise les classes de boutons standard -->
                <button type="button" class="button button-primary" id="addApplicationButton">
                    <i class="fas fa-plus" aria-hidden="true"></i> <!-- Icône et aria-hidden -->
                    <span>Ajouter une candidature</span>
                </button>
            </div>

            <!-- Conteneur de la liste des candidatures -->
            <div id="applicationsList">
                <!-- Les candidatures seront ajoutées ici par JavaScript -->
                <!-- Exemple de structure attendue par le JS (avec améliorations a11y) : -->
                <!--
                <div class="card w-full overflow-hidden">
                    <div class="flex flex-col md:flex-row md:items-center">
                        <div class="p-4 md:p-6 flex-grow">
                            <div class="flex flex-col md:flex-row md:items-center justify-between gap-4 mb-4">
                                <div>
                                    <h3 class="text-xl font-bold flex items-center gap-2">
                                        <i class="fas fa-briefcase" aria-hidden="true"></i>
                                        Intitulé du poste
                                    </h3>
                                    <div class="flex items-center text-muted-foreground mt-1">
                                        <i class="fas fa-building" aria-hidden="true"></i>
                                        <span>Nom de l'entreprise</span>
                                    </div>
                                </div>
                                <div class="flex items-center gap-2">
                                    <span class="badge status-cv-envoye">Statut</span>
                                    <div class="flex items-center text-muted-foreground">
                                        <i class="fas fa-calendar-alt" aria-hidden="true"></i>
                                        <span>Date</span>
                                    </div>
                                </div>
                            </div>
                            <p class="text-sm text-muted-foreground mt-2">Notes</p>
                            <div class="mt-3 text-sm">
                                <p class="font-semibold">Contact:</p>
                                <p>Nom: Contact Nom</p>
                                <p>Email: contact@email.com</p>
                                <p>Téléphone: 06... </p>
                            </div>
                        </div>
                        <div class="p-4 md:p-6 md:border-l flex flex-row md:flex-col gap-2 justify-end">
                            <label for="status-select-ID" class="sr-only">Mettre à jour le statut de la candidature pour [Intitulé du poste] chez [Nom de l'entreprise]</label>
                            <select id="status-select-ID" class="w-full md:w-44 update-status-select" data-application-id="ID_CANDIDATURE">
                                 ... options ...
                            </select>
                             <div class="flex gap-2">
                                <button type="button" class="button button-outline button-icon edit-application-button" data-application-id="ID_CANDIDATURE" aria-label="Modifier la candidature pour [Intitulé du poste] chez [Nom de l'entreprise]">
                                     <i class="fas fa-edit" aria-hidden="true"></i>
                                </button>
                                <button type="button" class="button button-destructive button-icon delete-application-button" data-application-id="ID_CANDIDATURE" aria-label="Supprimer la candidature pour [Intitulé du poste] chez [Nom de l'entreprise]">
                                    <i class="fas fa-trash" aria-hidden="true"></i>
                                </button>
                             </div>
                        </div>
                    </div>
                </div>
                 -->
            </div>

            <!-- Dialog (Modale) Ajouter/Modifier Candidature - Rendu sémantique et accessible -->
            <!-- Reste en dehors du flux normal avec display: none; -->
            <div class="dialog" id="applicationDialog" role="dialog" aria-modal="true" aria-labelledby="dialogTitle" style="display: none;">
                <div class="dialog-content">
                    <div class="dialog-header">
                         <!-- Le titre est utilisé par aria-labelledby -->
                        <h2 class="dialog-title" id="dialogTitle">Ajouter une candidature</h2>
                        <p class="dialog-description">Renseignez les informations de votre candidature</p>
                    </div>

                    <div class="dialog-body">
                        <!-- Formulaire d'ajout/modification -->
                        <form id="applicationForm"> <!-- Ajout d'une balise form -->
                            <div class="form-group">
                                <label for="company">Entreprise <span aria-hidden="true">*</span></label>
                                <input type="text" id="company" name="company" placeholder="Nom de l'entreprise" required/>
                            </div>

                            <div class="form-group">
                                <label for="position">Poste <span aria-hidden="true">*</span></label>
                                <input type="text" id="position" name="position" placeholder="Intitulé du poste" required/>
                            </div>

                            <div class="form-group">
                                <label for="date">Date de candidature <span aria-hidden="true">*</span></label>
                                <input type="date" id="date" name="date" required/>
                            </div>

                            <div class="form-group">
                                <label for="status">Statut <span aria-hidden="true">*</span></label>
                                <select id="status" name="status" required>
                                    <option value="CV envoyé">CV envoyé</option>
                                    <option value="CV retenu">CV retenu</option>
                                    <option value="Entretien prévu">Entretien prévu</option>
                                    <option value="Entretien passé">Entretien passé</option>
                                    <option value="Offre reçue">Offre reçue</option>
                                    <option value="Offre acceptée">Offre acceptée</option>
                                    <option value="Refus">Refus</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label for="notes">Notes</label>
                                <input type="text" id="notes" name="notes" placeholder="Informations complémentaires"/>
                            </div>

                             <div class="form-group">
                                <label for="contactName">Nom du contact (optionnel)</label>
                                <input type="text" id="contactName" name="contactName" placeholder="Nom de la personne à contacter"/>
                            </div>

                             <div class="form-group">
                                <label for="contactEmail">Email du contact (optionnel)</label>
                                <input type="email" id="contactEmail" name="contactEmail" placeholder="Email de contact"/>
                            </div>

                             <div class="form-group">
                                <label for="contactPhone">Téléphone du contact (optionnel)</label>
                                <input type="tel" id="contactPhone" name="contactPhone" placeholder="Numéro de téléphone"/>
                            </div>
                        </form> <!-- Fin du formulaire -->
                         <!-- Bouton Fermer la modale (optionnel, si pas de bouton "x" dans le header du dialog) -->
                         <!-- <button type="button" class="close-dialog" aria-label="Fermer la fenêtre">×</button> -->
                    </div>

                    <div class="dialog-footer">
                        <!-- Boutons d'action de la modale - Utilise les classes de boutons standard -->
                        <button type="button" class="button button-outline" id="cancelDialog">Annuler</button>
                        <!-- Le bouton saveApplication DOIT être de type button pour ne pas soumettre le form par défaut -->
                        <button type="button" class="button button-primary" id="saveApplication">Ajouter</button>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer - Repris du code standard EmploiAvenir -->
    <footer class="footer">
        <div class="container">
          <div class="footer-grid">
            <div class="footer-column">
              <h3>EmploiAvenir</h3>
              <p>Votre partenaire pour trouver l'emploi de vos rêves et développer votre carrière professionnelle.</p>
            </div>

            <div class="footer-column">
              <h3>Liens rapides</h3>
              <ul class="footer-links">
                <li><a href="index.html">Accueil</a></li>
                <li><a href="MonParcours.html">Mon Parcours</a></li>
                <li><a href="MesCandidature.html">Mes Candidatures</a></li>
                <li><a href="Partenaires.html">Nos partenaires</a></li>
                <li><a href="Documents.html">Mes documents</a></li>
                <li><a href="Profil.html">Profil</a></li>
              </ul>
            </div>

            <div class="footer-column">
              <h3>Services</h3>
              <ul class="footer-links">
                <li><a href="#">Création de CV</a></li> <!-- Ces liens pourraient pointer vers des sections de MonParcours.html plus tard -->
                <li><a href="#">Lettres de motivation</a></li>
                <li><a href="#">Coaching</a></li>
                <li><a href="#">Préparation aux entretiens</a></li>
                <li><a href="#">Partenaires entreprises</a></li>
              </ul>
            </div>

            <div class="footer-column">
              <h3>Contact</h3>
              <ul class="footer-links">
                <li><a href="tel:+33123456789">+33 1 23 45 67 89</a></li>
                <li><a href="mailto:contact@emploiavenir.fr">contact@emploiavenir.fr</a></li>
                <li>12 rue de l'Emploi, 75001 Paris</li>
              </ul>
            </div>
          </div>

          <div class="footer-bottom">
            <p>© 2024 EmploiAvenir. Tous droits réservés.</p>
          </div>
        </div>
    </footer>

     <!-- Toast Container - Conserve l'original -->
     <!-- Style de base pour le toast container (à déplacer dans style.css) -->
     <!--
     <style>
         #toast-container {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 1000;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
        }
        .toast {
            background-color: #333;
            color: white;
            padding: 10px 20px;
            border-radius: 5px;
            opacity: 0;
            transition: opacity 0.3s ease-in-out;
        }
        .toast.show {
            opacity: 1;
        }
        .toast-success { background-color: #28a745; }
        .toast-error { background-color: #dc3545; }
        .toast-warning { background-color: #ffc107; }
     </style>
     -->
    <div id="toast-container"></div>


    <!-- Login Modal - Repris des améliorations précédentes -->
    <div id="loginModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="loginModalTitle" style="display: none;">
        <div class="modal-content">
          <button type="button" class="close-modal" aria-label="Fermer la fenêtre de connexion">×</button>
          <h2 id="loginModalTitle">Connexion</h2>
          <form id="loginForm">
            <div class="form-group">
              <label for="email">Email</label>
              <input type="email" id="email" name="email" required>
            </div>

            <div class="form-group">
              <label for="password">Mot de passe</label>
              <input type="password" id="password" name="password" required>
            </div>

            <button type="submit" class="btn" style="width: 100%;">Se connecter</button>

            <div class="text-center mt-2">
              <a href="#" class="modal-link">Mot de passe oublié ?</a>
            </div>

            <div class="text-center mt-2">
              <p>Pas encore de compte ? <a href="#" class="modal-link" id="openRegisterModal">S'inscrire</a></p>
            </div>
          </form>
        </div>
    </div>

    <!-- Chatbot - Repris des améliorations précédentes -->
    <button type="button" class="chatbot-btn" id="chatbotBtn" aria-label="Ouvrir l'assistant virtuel EmploiAvenir" aria-expanded="false" aria-controls="chatbotContainer">💬</button>

    <div class="chatbot-container" id="chatbotContainer" role="log" aria-labelledby="chatbotHeaderTitle" style="display: none;">
        <div class="chatbot-header">
          <h3 id="chatbotHeaderTitle">Assistant EmploiAvenir</h3>
          <button type="button" id="closeChatbot" aria-label="Fermer l'assistant virtuel">✖</button>
        </div>

        <div class="chatbot-messages" id="chatbotMessages" aria-live="polite">
          <div class="message bot-message">
            Bonjour ! Comment puis-je vous aider aujourd'hui ?
          </div>
        </div>

        <div class="chatbot-input">
          <input type="text" id="chatbotInput" name="chatbot_message" placeholder="Écrivez votre message..." aria-label="Votre message à l'assistant EmploiAvenir">
          <button id="sendMessage" type="button">Envoyer</button>
        </div>
    </div>

  <script src="Script.js"></script>

</body>
</html>