<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Quizz Express - EmploiAvenir</title>
  <meta name="description" content="D√©marrez votre parcours EmploiAvenir avec une courte √©valuation pour mieux comprendre vos besoins et personnaliser votre accompagnement.">
  <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>
  <!-- HEADER (inchang√©) -->
  <header class="header" id="header">
    <div class="container flex justify-between items-center">
      <a href="index.html" class="logo" aria-label="Accueil EmploiAvenir"><span>Emploi</span>Avenir</a>
      <nav aria-label="Navigation principale">
        <ul class="nav-links" id="mainNavLinks">
          <li><a href="index.html"data-i18n="Home">Accueil</a></li>
          <li><a href="MonParcours.html" data-i18n="Parcours">Mon Parcours</a></li>
          <li><a href="MesCandidature.html" data-i18n="Candidatures">Mes Candidatures</a></li>
          <li><a href="Partenaires.html" data-i18n="Partenaires">Nos partenaires</a></li>
          <li><a href="Documents.html" data-i18n="Documents">Mes documents</a></li>
          <li><a href="Profil.html" data-i18n="Profil">Profil</a></li>
        </ul>
      </nav>
      <button class="mobile-menu-btn" id="mobileMenuBtn" aria-label="Ouvrir le menu de navigation" aria-expanded="false" aria-controls="mainNavLinks">‚ò∞</button>
    </div>
  </header>
<select id="langSwitcher" aria-label="Choisir la langue">
  <option value="fr">üá´üá∑ Fran√ßais</option>
  <option value="en">üá¨üáß English</option>
  <option value="ar">üá∏üá¶ ÿßŸÑÿπÿ±ÿ®Ÿäÿ©</option>
  <option value="uk">üá∫üá¶ —É–∫—Ä–∞—ó–Ω—Å—å–∫–∞ –º–æ–≤–∞</option>
</select>
<main>
  <div class="container py-8 max-w-xl mx-auto">
    <h1 class="text-center mb-6" data-i18n="quizTitre">Quizz Express</h1>
    <p class="text-center mb-8" data-i18n="quizIntro">R√©pondez √† quelques questions simples pour nous aider √† mieux vous conna√Ætre et d√©marrer votre parcours personnalis√©.</p>

    <form id="evaluationForm" autocomplete="off">
      <div id="quizProgressIndicator" class="text-center mb-4">
        <p data-i18n="quizProgression">Question <span id="currentQuizQuestion">1</span> sur <span id="totalQuizQuestions">3</span></p>
      </div>

      <div id="quizSteps">

        <fieldset class="quiz-step active" id="step-1">
          <legend class="sr-only" data-i18n="legendStep1">Partie 1 : Votre situation actuelle</legend>
          <h2 class="text-center mb-4" data-i18n="titreStep1">Parlons un peu de vous...</h2>
          <p class="text-center mb-6" data-i18n="texteStep1">Ces questions nous aident √† adapter l'aide que nous vous proposons.</p>

          <div class="form-group">
            <label for="lang-comprehension" data-i18n="labelLangue">Est-ce facile pour vous de lire et comprendre le fran√ßais ? <span aria-hidden="true">*</span></label>
            <select id="lang-comprehension" name="langComprehension" required>
              <option value="" data-i18n="choisir">Choisir...</option>
              <option value="tres-facile" data-i18n="tresFacile">Tr√®s facile</option>
              <option value="assez-facile" data-i18n="assezFacile">Assez facile</option>
              <option value="un-peu-difficile" data-i18n="unPeuDifficile">Un peu difficile</option>
              <option value="tres-difficile" data-i18n="tresDifficile">Tr√®s difficile</option>
            </select>
          </div>

          <div class="form-group">
            <label for="contact-preference" data-i18n="labelContact">Pour √©changer avec un conseiller, pr√©f√©rez-vous : <span aria-hidden="true">*</span></label>
            <select id="contact-preference" name="contactPreference" required>
              <option value="" data-i18n="choisir">Choisir...</option>
              <option value="telephone" data-i18n="prefTel">Par t√©l√©phone</option>
              <option value="ecrit" data-i18n="prefEcrit">Par √©crit (email, chat)</option>
              <option value="visio" data-i18n="prefVisio">Par visioconf√©rence</option>
              <option value="indifferent" data-i18n="prefIndiff">Indiff√©rent</option>
            </select>
          </div>

          <fieldset class="form-group" role="radiogroup" aria-labelledby="physical-needs-legend">
            <legend id="physical-needs-legend" data-i18n="labelBesoinSpecifique">Avez-vous des besoins sp√©cifiques (ex: besoin d'aide pour vous d√©placer) ? <span aria-hidden="true">*</span></legend>
            <div class="flex gap-2">
              <label><input type="radio" name="physicalNeeds" value="yes" required> <span data-i18n="oui">Oui</span></label>
              <label><input type="radio" name="physicalNeeds" value="no" required> <span data-i18n="non">Non</span></label>
            </div>
          </fieldset>
        </fieldset>

        <fieldset class="quiz-step" id="step-2" style="display: none;">
          <legend class="sr-only" data-i18n="legendStep2">Partie 2 : Votre exp√©rience</legend>
          <h2 class="text-center mb-4" data-i18n="titreStep2">Votre exp√©rience professionnelle</h2>
          <p class="text-center mb-6" data-i18n="texteStep2">Cela nous aide √† pr√©parer votre CV.</p>

          <fieldset class="form-group" role="radiogroup" aria-labelledby="worked-before-legend">
            <legend id="worked-before-legend" data-i18n="labelTravail">Avez-vous d√©j√† travaill√© (m√™me b√©n√©volement ou en stage) ? <span aria-hidden="true">*</span></legend>
            <div class="flex gap-2">
              <label><input type="radio" name="workedBefore" value="yes" required> <span data-i18n="oui">Oui</span></label>
              <label><input type="radio" name="workedBefore" value="no" required> <span data-i18n="non">Non</span></label>
            </div>
          </fieldset>

          <div class="form-group">
            <label for="previous-domain" data-i18n="labelDomaine">Dans quel domaine avez-vous travaill√© ?</label>
            <input type="text" id="previous-domain" name="previous-domain" placeholder="Ex: Btp, agent d'entretien etc." data-i18n-placeholder="placeholder">
            <div class="input-with-mic">
            <button type="button" class="mic-btn" data-target-input="previous-domain" aria-label="Saisir par la voix pour previous-domain"><i class="fas fa-microphone"></i></button>
            </div></div>

          <div class="form-group">
            <label for="skills" data-i18n="labelSkills">Qu'est-ce que vous aimez ou savez bien faire ?</label>
            <input type="text" id="skills" name="skills" placeholder="Ex: travailler en √©quipe, organiser, cuisiner...">
            <div class="input-with-mic">
            <button type="button" class="mic-btn" data-target-input="skills" aria-label="Saisir par la voix pour domain de travail"><i class="fas fa-microphone"></i></button>
            </div></div>

        </fieldset>

        <fieldset class="quiz-step" id="step-3" style="display: none;">
          <legend class="sr-only" data-i18n="legendStep3">Partie 3 : Vos objectifs</legend>
          <h2 class="text-center mb-4" data-i18n="titreStep3">Vos objectifs et besoins</h2>
          <p class="text-center mb-6" data-i18n="texteStep3">Quel type d'emploi ou d'aide cherchez-vous ?</p>

          <div class="form-group">
            <label for="job-type" data-i18n="labelJob">Quel type d'emploi vous int√©resse ?</label>
            <input type="text" id="job-type" name="jobType" placeholder="Ex: CDI, CDD, formation, stage...">
            <div class="input-with-mic">
            <button type="button" class="mic-btn" data-target-input="job-type" aria-label="Saisir par la voix pour previous-domain"><i class="fas fa-microphone"></i></button>
          </div>

          <div class="form-group">
            <label for="help-needed" data-i18n="labelAide">Quel type d'aide serait le plus utile maintenant ? <span aria-hidden="true">*</span></label>
            <select id="help-needed" name="helpNeeded" required>
              <option value="" data-i18n="choisir">Choisir...</option>
              <option value="cv-lm" data-i18n="aideCvLm">Aide pour CV et lettre de motivation</option>
              <option value="offres" data-i18n="aideOffres">Aide pour trouver des offres</option>
              <option value="entretien" data-i18n="aideEntretien">Aide pour pr√©parer un entretien</option>
              <option value="orientation" data-i18n="aideOrientation">Aide pour d√©finir mon projet</option>
              <option value="social" data-i18n="aideSocial">Accompagnement social</option>
              <option value="autre" data-i18n="aideAutre">Autre besoin</option>
            </select>
          </div>
        </fieldset>

        <fieldset class="quiz-step" id="step-4" style="display: none;">
          <legend class="sr-only" data-i18n="legendStep4">Partie 4 : Cr√©ez votre compte</legend>
          <h2 class="text-center mb-4" data-i18n="titreStep4">Cr√©ez votre espace personnel</h2>
          <p class="text-center mb-6" data-i18n="texteStep4">Cr√©ez un compte s√©curis√© pour sauvegarder vos r√©ponses et suivre votre parcours.</p>

          <div class="form-group">
            <label for="user-email" data-i18n="labelEmail">Votre email <span aria-hidden="true">*</span></label>
            <input type="email" id="user-email" name="userEmail" placeholder="Votre email" required autocomplete="email">
          </div>

          <div class="form-group">
            <label for="user-password" data-i18n="labelMDP">Choisissez un mot de passe <span aria-hidden="true">*</span></label>
            <input type="password" id="user-password" name="userPassword" required minlength="6" autocomplete="new-password">
            <p class="text-sm" data-i18n="texteMDP">Minimum 6 caract√®res.</p>
          </div>

          <div class="form-group">
            <label for="confirm-password" data-i18n="labelMDPConfirm">Confirmer le mot de passe <span aria-hidden="true">*</span></label>
            <input type="password" id="confirm-password" name="confirmPassword" required minlength="6" autocomplete="new-password">
          </div>
        </fieldset>

        <div class="quiz-step" id="step-5" style="display: none;">
          <h2 class="text-center mb-4" data-i18n="titreStep5">F√©licitations !</h2>
          <p class="text-center mb-6" data-i18n="texteFin1">Votre √©valuation est termin√©e et votre espace personnel est cr√©√©.</p>
          <p class="text-center mb-6" data-i18n="texteFin2">Nous avons maintenant les informations essentielles pour vous proposer un accompagnement adapt√© √† vos besoins.</p>
          <p class="text-center" data-i18n="texteFin3">Cliquez ci-dessous pour d√©couvrir votre parcours personnalis√© et passer √† l'√©tape suivante.</p>
          <div class="text-center mt-8">
            <div class="form-navigation flex justify-between items-center">
              <button type="button" class="btn btn-outline" id="backToParcoursButton" data-i18n="btnRetourParcours">
                <i class="fas fa-arrow-left" aria-hidden="true"></i> Retour √† Mon Parcours
              </button>
              <a href="choix-cv.html" id="goToCVLMButton" class="btn btn-primary" data-i18n="btnPoursuivre">
                Poursuivre mon parcours <i class="fas fa-arrow-right" aria-hidden="true"></i>
              </a>
            </div>
          </div>
        </div>
      </div>

      <div class="form-navigation mt-6 flex justify-between" id="mainQuizNavigation">
        <button type="button" class="btn btn-outline" id="prevStepButton" style="visibility: hidden;" data-i18n="btnPrecedent">
          <i class="fas fa-arrow-left" aria-hidden="true"></i> Pr√©c√©dent
        </button>
        <button type="button" class="btn btn-primary" id="nextStepButton" data-i18n="btnSuivant">
          Suivant <i class="fas fa-arrow-right" aria-hidden="true"></i>
        </button>
        <button type="submit" class="btn btn-primary" id="submitQuizButton" style="display: none;" data-i18n="btnTerminer">
          Cr√©er mon compte et Terminer
        </button>
      </div>
    </form>
  </div>
</main>


  <!-- FOOTER -->
  <footer class="footer">
    <div class="container">
      <div class="footer-grid">
        <div class="footer-column">
          <h3>EmploiAvenir</h3>
          <p>Votre partenaire pour trouver l'emploi de vos r√™ves et d√©velopper votre carri√®re professionnelle.</p>
        </div>
        <div class="footer-column">
          <h3>Liens rapides</h3>
          <ul class="footer-links">
            <li><a href="index.html">Accueil</a></li>
            <li><a href="MonParcours.html">Mon Parcours</a></li>
            <li><a href="MesCandidature.html">Mes Candidatures</a></li>
            <li><a href="Partenaires.html">Nos partenaires</a></li>
            <li><a href="Documents.html">Mes documents</a></li>
            <li><a href="Profil.html">Profil</a></li>
          </ul>
        </div>
        <div class="footer-column">
          <h3>Services</h3>
          <ul class="footer-links">
            <li><a href="#">Cr√©ation de CV</a></li>
            <li><a href="#">Lettres de motivation</a></li>
            <li><a href="#">Coaching</a></li>
            <li><a href="#">Pr√©paration aux entretiens</a></li>
            <li><a href="#">Partenaires entreprises</a></li>
          </ul>
        </div>
        <div class="footer-column">
          <h3>Contact</h3>
          <ul class="footer-links">
            <li><a href="tel:+33123456789">+33 1 23 45 67 89</a></li>
            <li><a href="mailto:contact@emploiavenir.fr">contact@emploiavenir.fr</a></li>
            <li>12 rue de l'Emploi, 75001 Paris</li>
          </ul>
        </div>
      </div>
      <div class="footer-bottom">
        <p>¬© 2025 EmploiAvenir. Tous droits r√©serv√©s.</p>
      </div>
    </div>
  </footer>

  <div id="toast-container"></div>

  <!-- MODALE CONNEXION -->
  <div id="loginModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="loginModalTitle" style="display: none;">
    <div class="modal-content">
      <button type="button" class="close-modal" aria-label="Fermer la fen√™tre de connexion">√ó</button>
      <h2 id="loginModalTitle">Connexion</h2>
      <form id="loginForm">
        <div class="form-group">
          <label for="loginEmail">Email</label>
          <input type="email" id="loginEmail" name="email" required>
        </div>
        <div class="form-group">
          <label for="loginPassword">Mot de passe</label>
          <input type="password" id="loginPassword" name="password" required>
        </div>
        <button type="submit" class="btn" style="width: 100%;">Se connecter</button>
        <div class="text-center mt-2">
          <a href="#" class="modal-link">Mot de passe oubli√© ?</a>
        </div>
        <div class="text-center mt-2">
          <p>Pas encore de compte ? <a href="#" class="modal-link" id="openRegisterModal">S'inscrire</a></p>
        </div>
      </form>
    </div>
  </div>

  <!-- CHATBOT -->
  <button type="button" class="chatbot-btn" id="chatbotBtn" aria-label="Ouvrir l'assistant virtuel EmploiAvenir" aria-expanded="false" aria-controls="chatbotContainer">üí¨</button>
  <div class="chatbot-container" id="chatbotContainer" role="log" aria-labelledby="chatbotHeaderTitle" style="display: none;">
    <div class="chatbot-header">
      <h3 id="chatbotHeaderTitle">Assistant EmploiAvenir</h3>
      <button type="button" id="closeChatbot" aria-label="Fermer l'assistant virtuel">‚úñ</button>
    </div>
    <div class="chatbot-messages" id="chatbotMessages" aria-live="polite">
      <div class="message bot-message">
        Bonjour ! Comment puis-je vous aider aujourd'hui ?
      </div>
    </div>
    <div class="chatbot-input">
      <input type="text" id="chatbotInput" name="chatbot_message" placeholder="√âcrivez votre message..." aria-label="Votre message √† l'assistant EmploiAvenir">
      <button id="sendMessage" type="button">Envoyer</button>
    </div>
  </div>
<script> document.addEventListener('DOMContentLoaded', () => {
  // V√©rifie la compatibilit√© navigateur
  const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;

  if (!SpeechRecognition) {
    console.warn("SpeechRecognition API non support√©e dans ce navigateur.");
    return;
  }

  // Initialiser une instance globale
  const recognition = new SpeechRecognition();
  recognition.lang = 'fr-FR'; // Fran√ßais
  recognition.interimResults = false; // On ne veut que les r√©sultats finaux
  recognition.maxAlternatives = 1;

  let currentTargetInput = null;

  // G√®re le clic sur chaque bouton micro
  document.querySelectorAll('.mic-btn').forEach(btn => {
    btn.addEventListener('click', () => {
      const inputId = btn.dataset.targetInput;
      const input = document.getElementById(inputId);

      if (!input) {
        console.error(`Champ introuvable pour l'ID: ${inputId}`);
        return;
      }

      currentTargetInput = input;
      input.focus(); // Fait le focus sur l'input
      recognition.start(); // Lance la reconnaissance vocale
    });
  });

  // Quand la reconnaissance retourne un r√©sultat
  recognition.addEventListener('result', (event) => {
    const transcript = event.results[0][0].transcript;
    if (currentTargetInput) {
      currentTargetInput.value = transcript;
      currentTargetInput.dispatchEvent(new Event('input')); // Pour d√©clencher la mise √† jour de l'aper√ßu
    }
  });

  recognition.addEventListener('speechend', () => {
    recognition.stop();
  });

  recognition.addEventListener('error', (event) => {
    console.error('Erreur de reconnaissance vocale:', event.error);
    if (typeof App?.showToast === 'function') {
      App.showToast(`Erreur vocale : ${event.error}`, 'error');
    }
  });
});
  </script>
  <script src="script.js"></script>
  <script src="langue.js"></script>

</body>
</html>