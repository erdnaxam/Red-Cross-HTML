<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Int√©gration, Suivi et Contribution - EmploiAvenir</title>
  <base href="/Red-Cross-HTML/">   <!-- Maybe to delet -->
  <meta name="description" content="Conseils pour votre int√©gration, partagez votre exp√©rience et devenez mentor avec EmploiAvenir.">
  <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <style>
    /* Styles pour les accord√©ons (identiques aux pages pr√©c√©dentes) */
    .accordion-section.card {
        margin-bottom: 1.5rem;
        overflow: hidden;
    }
    .accordion-button {
      cursor: pointer;
      width: 100%;
      text-align: left;
      border: none;
      background-color: transparent;
      padding: 1.25rem 1.5rem;
      outline: none;
      display: flex;
      justify-content: space-between;
      align-items: center;
      transition: background-color 0.2s ease;
    }
    .accordion-button:hover, .accordion-button:focus {
        background-color: var(--color-primary-light);
    }
    .accordion-button h2 {
        margin-bottom: 0;
        font-size: 1.25rem;
    }
    .accordion-content {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.35s ease-out, padding 0.35s ease-out, opacity 0.3s ease-out;
      opacity: 0;
      padding-left: 1.5rem;
      padding-right: 1.5rem;
    }
    .accordion-content.open {
      opacity: 1;
      padding-top: 1rem;
      padding-bottom: 1.5rem;
    }
    .accordion-button .icon-toggle::before {
      content: '\f078'; /* Font Awesome chevron-down */
      font-family: 'Font Awesome 6 Free';
      font-weight: 900;
      transition: transform 0.3s ease;
      display: inline-block;
      font-size: 0.9em;
    }
    .accordion-button[aria-expanded="true"] .icon-toggle::before {
      transform: rotate(-180deg);
    }

    /* Styles pour les listes et info-box (identiques) */
    .checklist li { margin-bottom: 0.75rem; display: flex; align-items: flex-start; }
    .checklist i { margin-top: 0.125em; flex-shrink: 0; }
    .info-box { border-left-width: 4px; padding: 1rem; display: flex; align-items: flex-start; gap: 0.75rem;}
    .info-box i.icon-left { margin-top: 0.125em; flex-shrink: 0; }
    .info-box.highlight-info { border-left-color: var(--color-primary); background-color: var(--color-primary-light); }
    .info-box.conseil-info { border-left-color: var(--color-info); background-color: var(--color-info-light); }
    .info-box.warning-info { border-left-color: var(--color-warning); background-color: var(--color-warning-light); }

    /* Styles pour le formulaire de feedback */
    .feedback-form .form-group {
        margin-bottom: 1.5rem;
    }
    .feedback-form label {
        display: block;
        font-weight: 500;
        margin-bottom: 0.5rem;
        color: var(--color-dark);
    }
    .feedback-form textarea, .feedback-form input[type="email"] /* Si on ajoute un email plus tard */ {
        width: 100%;
        padding: 0.75rem 1rem;
        border: 1px solid var(--color-gray-light);
        border-radius: var(--rounded-md);
        font-size: 1rem;
        transition: border-color 0.2s ease, box-shadow 0.2s ease;
    }
    .feedback-form textarea:focus, .feedback-form input[type="email"]:focus {
        border-color: var(--color-primary);
        box-shadow: 0 0 0 3px var(--color-primary-light);
        outline: none;
    }
    .feedback-form .checkbox-group {
        display: flex;
        align-items: center;
        gap: 0.5rem;
    }
    .feedback-form input[type="checkbox"] {
        width: 1.25em;
        height: 1.25em;
        accent-color: var(--color-primary);
    }
  </style>
</head>
<body>
  <header class="header" id="header">
    <div class="container flex justify-between items-center">
      <a href="index.html" class="logo" aria-label="Accueil EmploiAvenir"><span>Emploi</span>Avenir</a>
      <nav aria-label="Navigation principale">
        <ul class="nav-links" id="mainNavLinks">
          <li><a href="index.html"data-i18n="Home">Accueil</a></li>
          <li><a href="MonParcours.html" data-i18n="Parcours">Mon Parcours</a></li>
          <li><a href="MesCandidature.html" data-i18n="Candidatures">Mes Candidatures</a></li>
          <li><a href="Partenaires.html" data-i18n="Partenaires">Nos partenaires</a></li>
          <li><a href="Documents.html" data-i18n="Documents">Mes documents</a></li>
          <li><a href="Profil.html" data-i18n="Profil">Profil</a></li>
        </ul>
      </nav>
      <button class="mobile-menu-btn" id="mobileMenuBtn" aria-label="Ouvrir le menu de navigation" aria-expanded="false" aria-controls="mainNavLinks">‚ò∞</button>
    </div>
  </header>
<select id="langSwitcher" aria-label="Choisir la langue">
  <option value="fr">üá´üá∑ Fran√ßais</option>
  <option value="en">üá¨üáß English</option>
  <option value="ar">üá∏üá¶ ÿßŸÑÿπÿ±ÿ®Ÿäÿ©</option>
  <option value="uk">üá∫üá¶  —É–∫—Ä–∞—ó–Ω—Å—å–∫–∞ –º–æ–≤–∞</option>
</select>
  <div class="container pt-8 pb-12">
  <header class="section-header text-center mb-10">
    <h1 data-i18n="integrationTitre">
      <i class="fas fa-user-tie icon-left text-3xl md:text-4xl" aria-hidden="true"></i> Int√©gration, Suivi et Contribution
    </h1>
    <p class="intro-text text-gray-darker mt-3 text-lg" data-i18n="integrationIntro">
      R√©ussissez votre int√©gration, partagez votre exp√©rience et aidez les autres √† r√©ussir !
    </p>
  </header>

  <article class="card intro-card mb-10 p-6 shadow-lg" aria-labelledby="intro-title-suivi">
    <div class="intro-content">
      <h2 id="intro-title-suivi" class="text-2xl font-semibold mb-4 text-primary" data-i18n="integrationTitreSection1">Bien D√©marrer et Donner en Retour</h2>
      <p class="mb-4 text-md" data-i18n="integrationTexte1">L'int√©gration est une phase cl√©. Une bonne pr√©paration et une attitude proactive faciliteront votre adaptation. Une fois bien install√©(e), votre exp√©rience peut devenir pr√©cieuse pour d'autres.</p>
      <div class="info-box highlight-info mt-6">
        <i class="fas fa-users-cog icon-left text-primary fa-lg" aria-hidden="true"></i>
        <p data-i18n="integrationEncart">
          <strong>Partage d'exp√©rience :</strong> Votre parcours est une source d'inspiration. En partageant vos retours, vous contribuez √† am√©liorer nos services et pouvez aider d'autres chercheurs d'emploi.
        </p>
      </div>
    </div>
  </article>

  <div id="accordionContainerSuivi" class="grid grid-cols-1 md:grid-cols-1 gap-0">
    {/* Les accord√©ons sur l'int√©gration seront ins√©r√©s ici par JavaScript */}
  </div>

  <section class="feedback-mentorat-section card p-6 md:p-8 mt-10 shadow-md" aria-labelledby="feedback-title">
    <h2 id="feedback-title" class="section-subtitle text-xl font-semibold flex items-center gap-3 text-primary mb-6" data-i18n="feedbackTitre">
      <i class="fas fa-comments fa-fw" aria-hidden="true"></i> Partagez Votre Exp√©rience et Devenez Mentor
    </h2>
    <p class="mb-6 text-md text-gray-darker" data-i18n="feedbackIntro">Maintenant que vous avez trouv√© un emploi, votre avis sur EmploiAvenir nous est pr√©cieux ! Aidez-nous √† nous am√©liorer et envisagez de devenir une source d'inspiration pour d'autres.</p>

    <form id="feedbackForm" class="feedback-form">
      <div class="form-group">
        <label for="avisSite" data-i18n="labelAvis">Votre avis sur notre site et vos suggestions d'am√©lioration :</label>
        <textarea id="avisSite" name="avisSite" rows="5" class="w-full p-3 border border-gray-light rounded-md focus:border-primary focus:ring-primary-light" placeholder="Qu'avez-vous appr√©ci√© ? Que pourrions-nous am√©liorer ? Quelles fonctionnalit√©s vous ont le plus aid√© ?..." required></textarea>
      </div>

      <div class="form-group checkbox-group">
        <input type="checkbox" id="devenirMentor" name="devenirMentor" class="h-5 w-5 text-primary focus:ring-primary-light border-gray-light rounded">
        <label for="devenirMentor" class="mb-0 text-md" data-i18n="labelMentor">Oui, je serais int√©ress√©(e) pour devenir mentor et partager mon exp√©rience avec d'autres utilisateurs d'EmploiAvenir.</label>
      </div>
      <p class="text-sm text-gray-medium mb-6" data-i18n="texteMentor">Si vous cochez cette case, nous pourrons vous recontacter pour discuter des modalit√©s du mentorat.</p>

      <button type="submit" class="btn btn-secondary btn-large w-full sm:w-auto" data-i18n="btnEnvoyerAvis">
        <i class="fas fa-paper-plane mr-2"></i> Envoyer mon avis
      </button>
    </form>
    <p class="mt-6 text-sm text-center text-gray-darker" data-i18n="texteConfidentiel">Vos retours sont confidentiels et nous aident √† mieux vous accompagner.</p>
  </section>

  <aside class="contact-info card mt-10 mb-8 p-6 text-center bg-primary-light rounded-lg shadow-lg" aria-labelledby="accompagnement-title-suivi">
    <h2 id="accompagnement-title-suivi" class="text-2xl font-semibold flex items-center gap-3 text-primary justify-center mb-4" data-i18n="titreAccompagnement">
      <i class="fas fa-hands-helping fa-fw" aria-hidden="true"></i> Un accompagnement pour votre int√©gration ?
    </h2>
    <p class="mb-6 text-md text-gray-darker" data-i18n="texteAccompagnement">M√™me apr√®s la signature, nos conseillers peuvent vous aider √† pr√©parer votre prise de poste, √† d√©finir vos objectifs pour les premi√®res semaines, et √† g√©rer au mieux votre p√©riode d'essai.</p>
    <a href="Partenaires.html?tab=appointments" class="btn btn-primary btn-large" data-i18n="btnCoachingIntegration">
      <i class="fas fa-calendar-alt mr-2" aria-hidden="true"></i> Solliciter un coaching d'int√©gration
    </a>
    <div class="social-icons mt-8 flex justify-center gap-6" aria-label="Suivez-nous sur les r√©seaux sociaux">
      <a href="#" aria-label="Facebook" class="text-gray-medium hover:text-primary text-3xl transition-colors"><i class="fab fa-facebook-square"></i></a>
      <a href="#" aria-label="LinkedIn" class="text-gray-medium hover:text-primary text-3xl transition-colors"><i class="fab fa-linkedin"></i></a>
      <a href="#" aria-label="Twitter" class="text-gray-medium hover:text-primary text-3xl transition-colors"><i class="fab fa-twitter-square"></i></a>
    </div>
  </aside>

  <nav class="form-navigation mt-10 flex justify-between items-center" aria-label="Navigation des √©tapes du parcours">
    <button type="button" class="btn btn-outline btn-large" id="backToContratBtn" data-i18n="btnRetourContrat">
      <i class="fas fa-arrow-left mr-2" aria-hidden="true"></i> Retour au Contrat
    </button>
    <button type="button" class="btn btn-primary btn-large" id="completeParcoursBtn" data-i18n="btnTerminerParcours">
      Terminer et Voir Mon Parcours <i class="fas fa-flag-checkered ml-2" aria-hidden="true"></i>
    </button>
  </nav>
</div>


  <footer class="footer">
    <div class="container text-center py-6">
      <p class="mb-2">¬© 2025 EmploiAvenir | Accompagnement √† l'insertion professionnelle</p>
      <p class="text-sm text-gray">
        <i class="fas fa-map-marker-alt" aria-hidden="true"></i> 12 rue de l'Emploi, 75000 Paris ¬†|¬†
        <i class="fas fa-envelope" aria-hidden="true"></i> contact@emploiavenir.fr ¬†|¬†
        <i class="fas fa-phone" aria-hidden="true"></i> 01 23 45 67 89
      </p>
    </div>
  </footer>
  <div id="toast-container"></div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
        const accordionContainer = document.getElementById('accordionContainerSuivi');
        const feedbackForm = document.getElementById('feedbackForm');

        const accordionDataSuivi = [
            // ... (donn√©es de l'accord√©on inchang√©es) ...
            { id: 'avantPremierJour', title: '1. Pr√©paratifs Avant le Premier Jour', icon: 'fa-calendar-check', contentId: 'avant-premier-jour-content',
              intro: "Une bonne pr√©paration en amont facilitera grandement votre arriv√©e.",
              checklist: [
                "Confirmez l'heure et le lieu de votre arriv√©e, ainsi que la personne √† contacter.",
                "Pr√©parez les <strong>documents administratifs</strong> demand√©s (RIB, carte d'identit√©, carte vitale, etc.).",
                "Renseignez-vous sur le <strong>dress code</strong> de l'entreprise si ce n'est pas d√©j√† clair.",
                "Planifiez votre <strong>trajet</strong> pour arriver √† l'heure et sans stress.",
                "Pr√©parez quelques questions de base sur l'organisation de la premi√®re journ√©e."
              ],
              conseil: { text: "Reposez-vous bien la veille pour √™tre en forme et attentif le jour J.", icon: 'fa-bed', type: 'conseil-info text-info'}
            },
            { id: 'premierJour', title: '2. Le Premier Jour : Faire Bonne Impression', icon: 'fa-door-open', contentId: 'premier-jour-content',
              intro: "Votre premier jour est l'occasion de marquer des points et de commencer √† tisser des liens.",
              checklist: [
                "Soyez <strong>ponctuel</strong>, voire l√©g√®rement en avance.",
                "Adoptez une <strong>attitude ouverte, souriante et positive</strong>.",
                "Pr√©sentez-vous clairement √† vos nouveaux coll√®gues. Essayez de retenir leurs noms et fonctions.",
                "√âcoutez attentivement les informations qui vous sont transmises (consignes, pr√©sentations).",
                "N'h√©sitez pas √† <strong>poser des questions</strong> si quelque chose n'est pas clair, cela montre votre int√©r√™t.",
                "Observez la culture d'entreprise et les codes non-√©crits."
              ],
              conseil: { html: "Pr√©voyez de quoi prendre des notes. Cela vous sera utile et montrera votre s√©rieux.", icon: 'fa-clipboard-list', type: 'highlight-info text-primary'}
            },
            { id: 'premieresSemaines', title: '3. Les Premi√®res Semaines : S\'adapter et Apprendre', icon: 'fa-seedling', contentId: 'premieres-semaines-content',
              intro: "Cette p√©riode est cruciale pour comprendre votre r√¥le, l'√©quipe et les attentes.",
              checklist: [
                "Concentrez-vous sur la <strong>compr√©hension de vos missions</strong> et des objectifs de votre poste.",
                "Identifiez les <strong>personnes cl√©s</strong> avec qui vous allez interagir et d√©veloppez de bonnes relations.",
                "Soyez proactif pour rencontrer vos coll√®gues et comprendre leur r√¥le.",
                "Prenez des initiatives mesur√©es, montrez votre envie d'apprendre et de contribuer.",
                "Demandez r√©guli√®rement du <strong>feedback informel</strong> √† votre manager et √† vos coll√®gues.",
                "Familiarisez-vous avec les outils, processus et la culture de l'entreprise."
              ],
              conseil: { text: "Ne cherchez pas √† tout r√©volutionner d√®s le d√©but. L'observation et l'√©coute sont primordiales.", icon: 'fa-ear-listen', type: 'conseil-info text-info'}
            },
            { id: 'periodeEssai', title: '4. G√©rer sa P√©riode d\'Essai', icon: 'fa-hourglass-half', contentId: 'periode-essai-content',
              intro: "La p√©riode d'essai est un moment d'√©valuation mutuelle. Mettez toutes les chances de votre c√¥t√©.",
              checklist: [
                "Comprenez bien la <strong>dur√©e et les conditions</strong> de votre p√©riode d'essai.",
                "Fixez-vous des <strong>objectifs clairs</strong> avec votre manager pour cette p√©riode.",
                "Soyez particuli√®rement attentif √† la qualit√© de votre travail et √† votre comportement professionnel.",
                "Documentez vos r√©alisations et les comp√©tences que vous d√©veloppez.",
                "N'attendez pas la fin pour discuter de votre progression : sollicitez des <strong>points r√©guliers</strong> avec votre manager.",
                "Si des difficult√©s apparaissent, parlez-en rapidement pour trouver des solutions."
              ],
              conseil: { text: "La p√©riode d'essai est aussi pour vous l'occasion de valider si le poste et l'entreprise vous conviennent.", icon: 'fa-user-check', type: 'warning-info text-warning'}
            },
            { id: 'suiviLongTerme', title: '5. Suivi et D√©veloppement Continu', icon: 'fa-chart-line', contentId: 'suivi-long-terme-content',
              intro: "L'int√©gration ne s'arr√™te pas apr√®s quelques semaines. Continuez √† vous investir pour votre succ√®s.",
              checklist: [
                "Continuez √† chercher des occasions d'<strong>apprendre et de d√©velopper vos comp√©tences</strong>.",
                "Participez activement √† la vie de l'√©quipe et de l'entreprise.",
                "Pr√©parez vos <strong>entretiens annuels</strong> ou de suivi en r√©fl√©chissant √† vos accomplissements et axes d'am√©lioration.",
                "Construisez et entretenez votre <strong>r√©seau professionnel interne</strong>.",
                "Restez curieux et adaptable face aux √©volutions de votre poste ou de l'entreprise."
              ],
              conseil: { html: "Pensez √† mettre √† jour votre profil sur les r√©seaux professionnels (comme LinkedIn) une fois votre p√©riode d'essai valid√©e, si pertinent.", icon: 'fa-linkedin', type: 'highlight-info text-primary'}
            }
        ];

        function createAccordionItem(section) {
            const sectionEl = document.createElement('section');
            sectionEl.className = 'accordion-section card p-0 overflow-hidden';
            sectionEl.setAttribute('aria-labelledby', `${section.id}-title`);
            const button = document.createElement('button');
            button.className = 'accordion-button flex justify-between items-center w-full text-left';
            button.setAttribute('aria-expanded', 'false');
            button.setAttribute('aria-controls', section.contentId);
            button.innerHTML = `
                <h2 id="${section.id}-title" class="section-subtitle text-xl font-semibold flex items-center gap-3 text-primary">
                  <i class="fas ${section.icon} fa-fw" aria-hidden="true"></i> ${section.title}
                </h2>
                <span class="icon-toggle text-primary" aria-hidden="true"></span>`;
            const contentDiv = document.createElement('div');
            contentDiv.className = 'accordion-content';
            contentDiv.id = section.contentId;
            let contentHTML = `<p class="mb-4 px-6">${section.intro}</p>
                               <ul class="checklist list-none p-0 mb-4 space-y-2 px-6">`;
            section.checklist.forEach(item => {
                contentHTML += `<li><i class="fas fa-check-circle text-secondary mr-2"></i>${item}</li>`;
            });
            contentHTML += `</ul>`;
            if (section.conseil) {
                contentHTML += `
                  <div class="info-box ${section.conseil.type} mt-4 mx-6 mb-6">
                    <i class="fas ${section.conseil.icon} icon-left fa-fw" aria-hidden="true"></i>
                    <div>${section.conseil.html ? section.conseil.html : `<p>${section.conseil.text}</p>`}</div>
                  </div>`;
            }
            contentDiv.innerHTML = contentHTML;
            sectionEl.appendChild(button);
            sectionEl.appendChild(contentDiv);
            return sectionEl;
        }

        if (accordionContainer) {
            accordionDataSuivi.forEach(section => {
                accordionContainer.appendChild(createAccordionItem(section));
            });
            const accordionButtons = accordionContainer.querySelectorAll('.accordion-button');
            accordionButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const content = document.getElementById(button.getAttribute('aria-controls'));
                    const isExpanded = button.getAttribute('aria-expanded') === 'true';
                    button.setAttribute('aria-expanded', !isExpanded);
                    content.classList.toggle('open');
                    if (!isExpanded) {
                        content.style.maxHeight = content.scrollHeight + "px";
                    } else {
                        content.style.maxHeight = null;
                    }
                });
            });
        }

        const mobileMenuBtn = document.getElementById('mobileMenuBtn');
        const mainNavLinks = document.getElementById('mainNavLinks');
        if (mobileMenuBtn && mainNavLinks) {
            mobileMenuBtn.addEventListener('click', () => {
                const isOpen = mainNavLinks.classList.toggle('show-mobile');
                mobileMenuBtn.setAttribute('aria-expanded', isOpen);
            });
        }

        const backToContratBtn = document.getElementById('backToContratBtn');
        const completeParcoursBtn = document.getElementById('completeParcoursBtn');
        // MODIFICATION ICI :
        const FINAL_DESTINATION_PARCOURS = 'felicitation.html';

        const showToast = (message, type = 'info', duration = 3500) => {
            const toastContainer = document.getElementById('toast-container');
            if (!toastContainer) {
                console.warn('Toast container not found');
                return;
            }
            const toast = document.createElement('div');
            toast.className = `toast toast-${type} active`;
            toast.textContent = message;
            toast.setAttribute('role', 'alert');
            toastContainer.appendChild(toast);
            setTimeout(() => {
                toast.classList.remove('active');
                toast.classList.add('fade-out');
                setTimeout(() => toast.remove(), 500);
            }, duration);
        };

        if (feedbackForm) {
            feedbackForm.addEventListener('submit', (event) => {
                event.preventDefault();
                const avis = document.getElementById('avisSite').value;
                const veutEtreMentor = document.getElementById('devenirMentor').checked;
                console.log("Avis soumis : ", { avis, veutEtreMentor });
                showToast("Merci pour votre avis ! Nous l'√©tudierons avec attention.", "success", 5000);
                if (veutEtreMentor) {
                    showToast("C'est formidable que vous envisagiez le mentorat ! Nous vous recontacterons bient√¥t.", "info", 6000);
                }
                feedbackForm.reset();
            });
        }

        if(backToContratBtn) {
            backToContratBtn.addEventListener('click', () => {
                window.location.href = 'Contrat.html';
            });
        }

        if(completeParcoursBtn) {
            completeParcoursBtn.addEventListener('click', () => {
                try {
                    let parcoursData = JSON.parse(localStorage.getItem('parcoursEmploiAvenir')) || {};
                    parcoursData.etapes = parcoursData.etapes || Array(8).fill(null).map((_, i) => ({ id: `etape-${i}`, statut: 'locked' }));
                    if(parcoursData.etapes[6]) {
                        parcoursData.etapes[6].statut = 'completed';
                        parcoursData.etapes[6].dateCompletion = new Date().toISOString();
                    } else {
                         parcoursData.etapes[6] = { id: 'etape-6', statut: 'completed', dateCompletion: new Date().toISOString() };
                    }
                    parcoursData.parcoursPrincipalTermine = true;
                    parcoursData.dateFinParcoursPrincipal = new Date().toISOString();
                    parcoursData.etapeActuelleIndex = 6;
                    parcoursData.derniereActivite = new Date().toISOString();
                    localStorage.setItem('parcoursEmploiAvenir', JSON.stringify(parcoursData));
                    console.log("Suivi/Int√©gration & Feedback: Statut du parcours mis √† jour comme termin√©.", parcoursData);
                    window.location.href = FINAL_DESTINATION_PARCOURS; // Redirige vers felicitation.html
                } catch (error) {
                    console.error("Suivi/Int√©gration & Feedback: Erreur localStorage:", error);
                    showToast("Erreur de sauvegarde de progression.", "error");
                }
            });
        }
    });
  </script>
  <script src="langue.js"></script>
</body>
</html>